<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[33544] problems with gfal-* commands at UConn</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=33544" method="post">
<div class="page-header">
    <h3><span class="muted">33544</span> / problems with gfal-* commands at UConn</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Jose Caballero</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">UConn-OSG_CE</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">Gluex</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Jose Caballero</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">GLUEX</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2017-05-03</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">Kyle Gross <span class="muted"> / OSG GOC Support Team</span></div><div class="assignee" style="width: 60%">GLUEX <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/33544", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src=\""+this.thumbnail_url+"\"/></td>";
            html += "<td><a href=\""+this.url+"\" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='33544#1493826584'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-03T15:49:44+00:00">May 3, 2017 03:49 PM UTC</time> by <b>Kyle Gross</b><a class="anchor" name="1493826584">&nbsp;</a></div><pre>Closing this ticket per Jose&#39;s last update.

-Kyle</pre></div><div class='update_description'><i onclick="document.location='33544#1493780352'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-03T02:59:12+00:00">May 3, 2017 02:59 AM UTC</time> by <b>GLUEX</b><a class="anchor" name="1493780352">&nbsp;</a></div><pre>Jose,

Ok, that&#39;s good to hear, it was a simple fix if that was it.

-RIchard J.

On Tue, May 2, 2017 at 8&#58;16 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33544#1493770617'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-03T00:16:57+00:00">May 3, 2017 12:16 AM UTC</time><a class="anchor" name="1493770617">&nbsp;</a></div><pre>OK. Seems like updating the RPMs did the trick. The latest job I sent to the site worked fine, and I don&#39;t see anymore the error messages associated to the gfal command.
So we now only need Hiro to confirm there was not a WebDav protocol call being used yesterday (May 1st) from UCONN to BNL.
If that is the case, and gfal works as expected, I think we can close the ticket and I will resume submission to the site.

Thanks a lot for everything.
Cheers,
Jose

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jcaballe/CN=620333/CN=Jose Caballero Bejar</pre></div><div class='update_description'><i onclick="document.location='33544#1493676851'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-01T22:14:11+00:00">May 1, 2017 10:14 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1493676851">&nbsp;</a></div><pre>OK. I just submitted one job. Letâ€™s see how it goes.
Note&#58; I will be traveling tomorrow, so I may take a while to update the ticket.

Jose

On May 1, 2017, at 5&#58;29 PM, Open Science Grid FootPrints &#60;osg@....&#60;mailto&#58;osg@....&#62;&#62; wrote&#58;

[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='33544#1493674149'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-05-01T21:29:09+00:00">May 1, 2017 09:29 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1493674149">&nbsp;</a></div><pre>Jose,

Now would be a great time to run your tests, as the UConn cluster is
completely idle.

-Richard Jones

On Wed, Apr 26, 2017 at 2&#58;12 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33544#1493238605'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-26T20:30:05+00:00">Apr 26, 2017 08:30 PM UTC</time><a class="anchor" name="1493238605">&nbsp;</a></div><pre>jobs are being evicted, so it is going to take a while until we have one running and finishing to see what it does.

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jcaballe/CN=620333/CN=Jose Caballero Bejar</pre></div><div class='update_description'><i onclick="document.location='33544#1493230331'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-26T18:12:11+00:00">Apr 26, 2017 06:12 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1493230331">&nbsp;</a></div><pre>Hi, sorry for the delay.

I am not able to modify the running code. That is given to me, and it is
experiment-wide, so not possible to add ad-hoc tests or anything like that.
I just sent by hand one job, to see if the recent upgrades in the system
have any effect.
Will posted results when job is finished.

Cheers,
Jose

On 04/25/2017 10&#58;53 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33544#1493131991'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-25T14:53:11+00:00">Apr 25, 2017 02:53 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1493131991">&nbsp;</a></div><pre>Jose,

Another update on this&#58; Just to be sure that I have all of the gfal2
plugins installed, I ran the command &#34;yum update gfal2-all&#34; on my worker
nodes, and it found a whole bunch of updates, some of which pulled in some
other dependencies. I wonder if that made the difference? Can you try it
again?

-Richard J.

On Tue, Apr 25, 2017 at 10&#58;35 AM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33544#1493130911'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-25T14:35:11+00:00">Apr 25, 2017 02:35 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1493130911">&nbsp;</a></div><pre>Jose,

Would the following plan fall within your collaboration&#39;s data privacy
policy? You might look in the job script where the failing line is found
and add a clause such that if it fails, an email is sent to
richard.t.jones@.... containing the hostname and job working directory
pathname, after which it sleeps for 24 hours before exiting. That would
allow me to have a look in real time. It also involves some trust that I
will not use the job proxy credential to do something awful.

One more thing. Just in case it matters, I just checked and my site was 4
releases behind on the osg-ca-certs package. I updated it this morning. You
might check again, just to make sure that is not all it was.

-Richard J.

On Tue, Apr 25, 2017 at 10&#58;20 AM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33544#1493130016'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-25T14:20:16+00:00">Apr 25, 2017 02:20 PM UTC</time> by <b>Jose Caballero</b><a class="anchor" name="1493130016">&nbsp;</a></div><pre>almost all logs have been already rotated, so I have very little info left.
I see the very few jobs that ran the day before I stop submission landed on

1 stat106.phys.uconn.edu
1 stat112.phys.uconn.edu
2 stat116.phys.uconn.edu
2 stat117.phys.uconn.edu
2 stat120.phys.uconn.edu
1 stat6.phys.uconn.edu

I am afraid that is going to be very little data for you, right?

Cheers,
Jose

On 04/25/2017 06&#58;47 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33544#1493117233'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-25T10:47:13+00:00">Apr 25, 2017 10:47 AM UTC</time> by <b>GLUEX</b><a class="anchor" name="1493117233">&nbsp;</a></div><pre>Jose,

Thank you, those logs were helpful for understanding what is happening.
This is not a timeout (ie. related to my squid outage) so the problem is
elsewhere. Can you check, is it always the same worker node (or same 2 or
3) on my site that generate these errors, or are they consistent on every
job/worker?

-Richard Jones

On Mon, Apr 24, 2017 at 3&#58;33 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33544#1493062435'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-24T19:33:55+00:00">Apr 24, 2017 07:33 PM UTC</time><a class="anchor" name="1493062435">&nbsp;</a></div><pre>I am not the owner of the storage host, so I cannot create that /tmp/ directory myself.
But I am adding Hiro to this ticket, so he may be able to help.

On the other hand, I am not sure there is too much info in the job logs. But just in case I am not seeing it, here is a block of logs&#58;

=============================================

2017-04-20 07&#58;12&#58;46| 2809428|pUtil.py    | Dispatcher response&#58; [2017-04-20 07&#58;12&#58;28| 2816492|base.py     | Executing command&#58; gfal-copy --verbose  -p -f -t 3336 -D &#92;&#34;SRM PLUGIN&#58;TURL_PROTOCOLS=gsiftp&#92;&#34; -S ATLASDATADISK file&#58;///local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/EVNT.11203271._000083.pool.root.1 <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>, timeout=3336
2017-04-20 07&#58;12&#58;28| 2816492|base.py     | Command execution time&#58; 0&#58;00&#58;00.316229
2017-04-20 07&#58;12&#58;28| 2816492|base.py     | is_timeout=False, rcode=93, output=gfal-copy error&#58; 93 (Protocol not supported) - Protocol not supported or path/url invalid&#58; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2</a>
Copying 168359627 bytes file&#58;///local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/EVNT.11203271._000083.pool.root.1 =&#62; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>
event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;ENTER
event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;ITEM       file&#58;///local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/EVNT.11203271._000083.pool.root.1 =&#62; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>
event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;EXIT

2017-04-20 07&#58;12&#58;28| 2816492|base.py     | WARNING&#58; [is_stagein=False] Stage file command (gfal-copy --verbose  -p -f -t 3336 -D &#92;&#34;SRM PLUGIN&#58;TURL_PROTOCOLS=gsiftp&#92;&#34; -S ATLASDATADISK file&#58;///local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/EVNT.11203271._000083.pool.root.1 <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>) failed&#58; Status=93 Output=gfal-copy error&#58; 93 (Protocol not supported) - Protocol not supported or path/url invalid&#58; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2</a> Copying 168359627 bytes file&#58;///local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/EVNT.11203271._000083.pool.root.1 =&#62; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a> event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;ENTER       event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY  LIST&#58;ITEM       file&#58;///local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/EVNT.11203271._000083.pool.root.1 =&#62; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a> event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY LIST&#58;EXIT
2017-04-20 07&#58;12&#58;28| 2816492|base.py     | INFO&#58; [gfal removeRemoteFile] Taking a 1 m nap before the file removal attempt
2017-04-20 07&#58;13&#58;28| 2816492|base.py     | Do remove RemoteFile&#58; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>
2017-04-20 07&#58;13&#58;28| 2816492|base.py     | Executing command&#58; gfal-rm --verbose -t 3000 <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>, timeout=3000
2017-04-20 07&#58;13&#58;29| 2816492|base.py     | Command execution time&#58; 0&#58;00&#58;00.568505
2017-04-20 07&#58;13&#58;29| 2816492|base.py     | is_timeout=False, rcode=93, output=gfal-rm error&#58; 93 (Protocol not supported) - Protocol not supported or path/url invalid&#58; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>
<a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>    FAILED

2017-04-20 07&#58;13&#58;29| 2816492|base.py     | Warning&#58; failed to remove remote file=<a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a> from storage .. skipped&#58; error=PilotException&#58; 1008&#58; Failed to remove remote file
2017-04-20 07&#58;13&#58;29| 2816492|mover.py    | Traceback (most recent call last)&#58;
File &#92;&#34;/local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/movers/mover.py&#92;&#34;, line 1010, in stageout
result = sitemover.put_data(fdata)
File &#92;&#34;/local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/movers/base.py&#92;&#34;, line 426, in put_data
return self.stageOut(src, fspec.turl, fspec)
File &#92;&#34;/local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/movers/base.py&#92;&#34;, line 445, in stageOut
dst_checksum, dst_checksum_type = self.stageOutFile(source, destination, fspec)
File &#92;&#34;/local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/movers/gfalcopy_sitemover.py&#92;&#34;, line 161, in stageOutFile
return self._stagefile(cmd, source, destination, filesize, is_stagein=False)
File &#92;&#34;/local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/movers/gfalcopy_sitemover.py&#92;&#34;, line 73, in _stagefile
raise PilotException(error.get(&#39;error&#39;), code=rcode, state=state)
<div id='show_1516509910' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1516509910'>PilotException&#58; PilotException&#58; 1137&#58; Copy operation failed [is_stagein=False]&#58; gfal-copy error&#58; 93 (Protocol not supported) - Protocol not supported or path/url invalid&#58; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2</a>
Copying 168359627 bytes file&#58;///local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/EVNT.11203271._000083.pool.root.1 =&#62; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>
event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;ENTER
event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;ITEM       file&#58;///local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/EVNT.11203271._000083.pool.root.1 =&#62; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>
event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;EXIT

2017-04-20 07&#58;13&#58;29| 2816492|mover.py    | WARNING&#58; Error in copying file (fspec 1/1) (protocol 1/2) (attempt 1/2)&#58; PilotException&#58; 1137&#58; Copy operation failed [is_stagein=False]&#58; gfal-copy error&#58; 93 (Protocol not supported) - Protocol not supported or path/url invalid&#58; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2</a>
Copying 168359627 bytes file&#58;///local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/EVNT.11203271._000083.pool.root.1 =&#62; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>
event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;ENTER
event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;ITEM       file&#58;///local/execute/dir_2809122/Panda_Pilot_2809428_1492671700/PandaJob_3339550845_1492671707/EVNT.11203271._000083.pool.root.1 =&#62; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_valid/28/f2/EVNT.11203271._000083.pool.root.1</a>
event&#58; [1492672348842] BOTH   GFAL2&#58;CORE&#58;COPY   LIST&#58;EXIT

=============================================

Cheers,
Jose

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jcaballe/CN=620333/CN=Jose Caballero Bejar
</div><script type='text/javascript'>
        $('#show_1516509910').click(function() {
            $('#detail_1516509910').slideDown("normal");
            $('#show_1516509910').hide();
            $('#hide_1516509910').show();
        });
        $('#hide_1516509910').click(function() {
            $('#detail_1516509910').slideUp();
            $('#hide_1516509910').hide();
            $('#show_1516509910').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='33544#1492883623'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-22T17:53:43+00:00">Apr 22, 2017 05:53 PM UTC</time><a class="anchor" name="1492883623">&nbsp;</a></div><pre>Jose,

Iin order to pursue it further I would need to be able to see the detailed error message, maybe printed in the &#34;...&#34; lines, or else be able to reproduce the problem myself somehow? Is my site rejecting the host certificate of the BNL site? If you could create a writable tmp dir on this gridftp host, I could try to push and pull using gfcal-copy from all of my nodes and see if I can reproduce the problem. The BNL site might still be using some old digicert certificates that got dropped from the latest osg-certs release?  I had the impression that the transition to the new cilogon certs was complete, so I pulled the digicert-grid ca from my certificates directory. Something like that would explain why these requests are failing, while my own jobs that use gsi for file transfer auth are working. In my experience, gfal-copy is very reliable.

-Richard Jones

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Richard T. Jones 594</pre></div><div class='update_description'><i onclick="document.location='33544#1492880126'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-22T16:55:26+00:00">Apr 22, 2017 04:55 PM UTC</time><a class="anchor" name="1492880126">&nbsp;</a></div><pre>We don&#39;t keep the logs for too many days (because of their size), so I cannot say when it started.
But I see those errors at least since the 18th. So I would say it is unrelated to the squid issue.

Cheers,
Jose

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jcaballe/CN=620333/CN=Jose Caballero Bejar</pre></div><div class='update_description'><i onclick="document.location='33544#1492811051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-21T21:44:11+00:00">Apr 21, 2017 09:44 PM UTC</time> by <b>GLUEX</b><a class="anchor" name="1492811051">&nbsp;</a></div><pre>Hello Jose,

Could you put a time stamp on these errors? My squid host went down for
about 2 hours this morning, before I restarted it. Could it be that this
fixed the problem you saw?

-Richard Jones

On Fri, Apr 21, 2017 at 3&#58;04 PM, Open Science Grid FootPrints &#60;
osg@....&#62; wrote&#58;

<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='33544#1492801491'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2017-04-21T19:04:51+00:00">Apr 21, 2017 07:04 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1492801491">&nbsp;</a></div><pre>Hi,

the ATLAS jobs running (in opportunistic mode) at UConn site show a lot of error messages like these two (*).
I wonder if there is something that could be fixed or improved at the site.
Same type of jobs don&#39;t seem to have the problem at other sites.

Cheers,
Jose

(*)
Executing command&#58; gfal-copy --verbose  -p -f -t 3002 -D &#92;&#34;SRM PLUGIN&#58;TURL_PROTOCOLS=gsiftp&#92;&#34; -S ATLASDATADISK file&#58;///local/execute/dir_2678517/Panda_Pilot_2678684_1492652967/PandaJob_3339448471_1492652977/EVNT.11173045._018800.pool.root.1 <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_13TeV/2d/c8/EVNT.11173045._018800.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_13TeV/2d/c8/EVNT.11173045._018800.pool.root.1</a>, timeout=3002
...
output=gfal-copy error&#58; 93 (Protocol not supported) - Protocol not supported or path/url invalid&#58; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_13TeV/2d/c8' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_13TeV/2d/c8</a>
...
...
...
Executing command&#58; gfal-rm --verbose -t 3000 <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_13TeV/2d/c8/EVNT.11173045._018800.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_13TeV/2d/c8/EVNT.11173045._018800.pool.root.1</a>, timeout=3000
...
output=gfal-rm error&#58; 93 (Protocol not supported) - Protocol not supported or path/url invalid&#58; <a href='https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_13TeV/2d/c8/EVNT.11173045._018800.pool.root.1' target='_blank' rel='nofollow'>https&#58;//dcgftp.usatlas.bnl.gov/pnfs/usatlas.bnl.gov/BNLT0D1/rucio/mc15_13TeV/2d/c8/EVNT.11173045._018800.pool.root.1</a>

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jcaballe/CN=620333/CN=Jose Caballero Bejar</pre></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F33544">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

});
</script>


</body>
