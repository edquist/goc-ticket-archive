<!DOCTYPE html>
<html lang="en">
  <head>
  <base href="">
    <title>[29566] ITB Factory entry for Stampede for CMS use</title>    <meta charset="utf-8" />
    <meta name="verify-v1" content="na5IcAJsZVOfEkboRxuIiZ1zpZgnZiWra+nKcS7nA/o=" />
    <meta name="google-site-verification" content="DLrk3ft4s8b-S2TloLCL2LD_t6wcTjgSluf5pmiu2kA" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <link href="https://ticket.opensciencegrid.org/rss" rel="alternate" type="application/rss+xml" title="GOC Ticket Update feed" />

    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
     #search {
            width: 300px;
     }

    </style>

<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.1.js"></script>

   <link href="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>

    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.min.css" rel="stylesheet"/>
 <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-rc.2/js/select2.min.js"></script>

    <link href="css/ticket.css" rel="stylesheet" />
    <script src="lib/jquery.cookie.js"></script>

    <link href="images/tag_orange.png" rel="icon" type="image/png"/>
    <script src='https://www.google.com/recaptcha/api.js'></script>
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <a class="brand" style="padding: 6px 0px 0px 6px;" href="http://opensciencegrid.org"><img src="images/osglogo.40x30.png"/></a>
            <ul class="nav">
                <li class="dropdown"><a href="https://ticket.opensciencegrid.org/#" class="dropdown-toggle" data-toggle="dropdown">GOC Ticket <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    <li><a href="https://my.opensciencegrid.org">MyOSG</a></li>
                    <li><a href="https://oim.opensciencegrid.org">OIM</a></li>
                    <li class="active"><a href="https://ticket.opensciencegrid.org/index">Ticket</a></li>
	<li class="divider"></li>
	<li><a href="http://repo.grid.iu.edu">Repo</a></li>
	<li class="divider"></li>
	<li><a href="http://blogs.grid.iu.edu">Blog</a></li>
                    <li><a href="http://display.grid.iu.edu">Display</a></li>
                    <li><a href="http://osggoc.blogspot.com/">News</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav pull-right">
                <li><a href="https://ticket.opensciencegrid.org/sso/">Login</a></li>            </ul>

            <div class="nav-collapse">
                <ul class="nav">
			 <li id="menu_submit"><a href="https://ticket.opensciencegrid.org/submit">Submit</a></li><li id="menu_view" class="dropdown"><a href="https://ticket.opensciencegrid.org/\#" class="dropdown-toggle" data-toggle="dropdown">View <b class="caret"></b></a><ul class="dropdown-menu"><li id="submenu_listopen"><a href="https://ticket.opensciencegrid.org/list/open">Open Tickets</a></li><li id="submenu_listrecentclose"><a href="https://ticket.opensciencegrid.org/list/recentclose">Recently Closed Tickets</a></li><li class="divider"></li><li id="submenu_alltickets"><a href="https://ticket.opensciencegrid.org/search?q=&amp;sort=id">All Tickets</a></li></ul></li>                </ul>

                <form class="navbar-search pull-right" action="https://ticket.opensciencegrid.org/viewer">
                    <input id="search" type="text" name="id" class="search-query span2" placeholder="Search Ticket" value=""/>
                </form>
            </div>
        </div>
      </div>
    </div>

<script type='text/javascript' src='lib/jquery.timeago.js'></script>
<script type='text/javascript' src='lib/byte2size.js'></script>
<style>
#updates .toolbar {
position: relative;
margin-top: 0px;
top: -10px;
font-weight: normal;
}
#updates a.anchor {
position: relative;
top: -50px;
}
#updates .selected pre {
animation:selected 2s;
animation-iteration-count: 2;
animation-direction: alternate;
-webkit-animation:selected 2s; 
-webkit-animation-iteration-count: 2;
-webkit-animation-direction: alternate;
box-shadow: inset 1px 1px 20px #9ad;
border: 1px solid #9ab;
margin: 5px 0px;
padding-left: 10px;
}
@keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ab;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
@-webkit-keyframes selected {
    from  {
        box-shadow: inset 1px 1px 20px #9ad;
        border: 1px solid #9ad;
    }
    to {
        box-shadow: inset 1px 1px 20px #05c;
        border: 1px solid #05c;
    }
}
#updates pre {
background-color: inherit;
line-height: 15px;
padding: 5px;
}
#updates .header {
color: #999;
}
#updates .update_history pre {
background-color: #eee;
color: #666;
font-size: 85%;
}
#updates .clickable {
cursor: pointer;
}
#updates .clickable:hover {
color: #D98719;
}
#updates .meta_information pre {
background-color: #fed;
}
#similar_tickets {
max-height: 300px;
overflow-y: auto;
pointer-events: none;
padding: 5px;
background-color: #f4f4f4;
}
.btn-toolbar {
margin-bottom: 0;
height: 30px;
}
#peers {
position: fixed;
bottom: 0px;
right: 0px;
z-index: 100;
list-style: none;
padding: 5px 0px 0px 5px;
margin: 0px;
background-color: white;
box-shadow: 0px 0px 10px white;
}
#peers li {
background-color: #ccc;
color: #000;
display: inline-block;
padding: 5px 10px;
margin-right: 5px;
position: relative;
}
/*
#peers li:hover {
background-color: #999;
cursor: pointer;
}
*/
#peers span.ip {
padding-left: 5px;
color: #666;
}
#peers .new {
bottom: -30px;
}
/*
#peers .me {
background-color: red;
}
*/
</style>

<div class="container-fluid">
<ul id="peers"></ul>
<div class="alert alert-danger"><a class="close" href="https://ticket.opensciencegrid.org/#" data-dismiss="alert">&times;</a>By the end of May 2018, the ticketing system at https://ticket.opensciencegrid.org will be retired and support will be provided at https://support.opensciencegrid.org. Throughout this transition the support email (help@opensciencegrid.org) will be available as a point of contact.<br><br>                                                   
                                                                                                                                                                                   
Please see the service migration page for details: https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/#ticket</div><div id="presence" class="pull-right"></div><div class="ticketgui"><script type="text/javascript" src="lib/checktab.js"></script>

<script>
var expanded = false;
function expand_description() {
    var desc = $(".description");
    if(!expanded) {
        expanded = true;
        //expand to minheight
        var min = 250;
        if(desc.height() < min) {
            desc.animate({height: min}, 200);
        }
    }
}

$(document).ready(function() {
    $("input[name='nad']").datepicker({
        dateFormat: 'yy-mm-dd'
    });
});

</script>



<style>
.form-horizontal .control-label {
padding-top: inherit;
font-size:90%;
color:#666;
}
label {
margin-bottom: 0px;
}
.controls {
line-height: 18px;
}
</style>
<form class="form-horizontal" action="https://ticket.opensciencegrid.org/viewer/updatebasic?id=29566" method="post">
<div class="page-header">
    <h3><span class="muted">29566</span> / ITB Factory entry for Stampede for CMS use</h3>
</div>

<div class="row-fluid">
<div class="span5">
    <legend>Contact</legend>
    <div class="control-group">
        <label class="control-label">Full Name</label>
        <div class="controls">Bodhitha Jayatilaka</div>
    </div>
    <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">Phone</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>
    <div class="control-group">
        <label class="control-label">CC</label>
        <div class="controls">
            <i class="icon-lock"></i>        </div>
    </div>

    <legend>Details</legend>
    <div class="control-group"><label class="control-label">Resource Name</label><div class="controls">UCSD glidein</div></div><div class="control-group"><label class="control-label">Associated VO</label><div class="controls">MIS</div></div><div class="control-group"><label class="control-label">Submitted Via</label><div class="controls">GOC Ticket/submit</div></div><div class="control-group"><label class="control-label">Submitter</label><div class="controls">Bodhitha Jayatilaka</div></div><div class="control-group"><label class="control-label">Support Center</label><div class="controls">osg-glidein-factory</div></div><div class="control-group"><label class="control-label">Ticket Links</label><div class="controls"></div></div>
    <div class="control-group">
        <label class="control-label">Ticket Type</label>
        <div class="controls">Problem/Request</div>
    </div>
    <div class="control-group">
        <label class="control-label">Priority</label>
        <div class="controls">Normal</div>
    </div>
    <div class="control-group">
        <label class="control-label">Status</label>
        <div class="controls">
Closed</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action</label>
        <div class="controls">ENG Action</div>
    </div>
    <div class="control-group">
        <label class="control-label">Next Action Deadline</label>
        <div class="controls flag_red">2016-10-24</div>
    </div>

</div><!--span-->
<div class="span7">
    <legend>Assignees</legend>
    <div class="assignee" style="width: 60%">OSG Glidein Factory Support <span class="muted"> / OSG Support Centers</span></div>    <br>

    <legend>Assignees</legend>
    TODO
    <br>

    <style>
legend.noborder {
border-bottom: none;
}
</style>

<div id="attachment-list"/>
<script>
$(function () {
    var first = true;
    $.getJSON("attachment/list/29566", function (files) {
        //console.dir(files);
        var html = "<table class=\"table table-condensed\">";
        $(files).each(function() {
            if(first) {
                first = false;
                html += "<legend class=\"noborder\">Attachmenets</legend>";
            }
            html += "<tr class=\"attachment\">";
            html += "<td><img src="https://ticket.opensciencegrid.org/\&quot;&quot;+this.thumbnail_url+&quot;\&quot;/"></td>";
            html += "<td><a href="https://ticket.opensciencegrid.org/\&quot;&quot;+this.url+&quot;\&quot;" target=\"_blank\">"+this.name+"</a></td>";
            html += "<td>"+bytesToSize(this.size, 1)+"</td>";
            html += "</tr>";
        });
        html += "</table>";
        $("#attachment-list").html(html);
    });
});

function download(url) {
    window.open(url, "_blank");
}
</script>


</div><!--span-->
</div><!--row-fluid-->


</form>

</div>
<div id="updates" style="clear: both;">
    <legend>Past Updates
    <div class="btn-toolbar pull-right toolbar">
        <div class="btn-group">
                <a class="btn btn-small" href="https://ticket.opensciencegrid.org/29566?sort=up&amp;"><i class="icon-arrow-up"></i> Sort</a>

        
        <a class="btn btn-small" href="https://ticket.opensciencegrid.org/29566?expandall=true&amp;">Expand Descriptions</a>        <a class="btn btn-small" target="_blank" href="mailto:osg@tick.globalnoc.iu.edu?subject=Open%20Science%20Grid%3A%20ITB%20Factory%20entry%20for%20Stampede%20for%20CMS%20use%20ISSUE%3D29566%20PROJ%3D71"><i class="icon-envelope"></i> Update w/Email</a>
        </div>
    </div><!--btn-toolbar-->
    </legend>

    <div class='update_description'><i onclick="document.location='29566#1477318162'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-24T14:09:22+00:00">Oct 24, 2016 02:09 PM UTC</time> by <b>echism</b><a class="anchor" name="1477318162">&nbsp;</a></div><pre>Thanks all.</pre></div><div class='update_description'><i onclick="document.location='29566#1476997696'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T21:08:16+00:00">Oct 20, 2016 09:08 PM UTC</time><a class="anchor" name="1476997696">&nbsp;</a></div><pre>I was just about to comment  saying we can open another ticket if needed but Ajit beat me to it. Let&#39;s go ahead and close this one.

Thanks everyone.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1476997336'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T21:02:16+00:00">Oct 20, 2016 09:02 PM UTC</time> by <b>ajit@....</b><a class="anchor" name="1476997336">&nbsp;</a></div><pre>Hi Marty, Edgar, all,

I think it&#39;s ok to close this ticket for now given that I was able to
run the test mc jobs at Stampede, although the stage-out to FNAL failed.
After patching the stage-out code I will do another round of tests with
mc jobs. If I run into issues with jobs not getting to Stampede then
will open a new ticket.

Thanks,
- Ajit

On 10/20/16 10&#58;01 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='29566#1476982879'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T17:01:19+00:00">Oct 20, 2016 05:01 PM UTC</time><a class="anchor" name="1476982879">&nbsp;</a></div><pre>Edgar,

Ajit is still working on some issues with the stage-out of CMS opportunistic jobs from Stampede. From the factory-side, we&#39;re done here. So if he wants us to close out the ticket, we probably can and address any further issues in a separate ticket in the future.

Marty

P.S. No one (CMS/Fermilab/Nova) iareready to run @ Stampede in production mode, so we will leave entry on GOC-ITB for the time being.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1476982000'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T16:46:40+00:00">Oct 20, 2016 04:46 PM UTC</time><a class="anchor" name="1476982000">&nbsp;</a></div><pre>Hi Farrukh, Marty, et All,

I am also curious it looks like we got jobs running and all with partitionable slots. I wonder what are we missing here or if we can close htis?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1476980965'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-20T16:29:25+00:00">Oct 20, 2016 04:29 PM UTC</time> by <b>echism</b><a class="anchor" name="1476980965">&nbsp;</a></div><pre>Hello all,

What&#39;s the status of this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='29566#1476290778'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T16:46:18+00:00">Oct 12, 2016 04:46 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1476290778">&nbsp;</a></div><pre>Yeah, that was me trying to test some things via the validation script so you can ignore those errors.

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1476290509'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T16:41:49+00:00">Oct 12, 2016 04:41 PM UTC</time><a class="anchor" name="1476290509">&nbsp;</a></div><pre>Farrukh,

Those two nodes are consistent with the successful glidein request that ran at Stampede this morning. Note, however, there were also some glidein requests prior to this one that failed validation when they attempted to run with the following set of errors likely the problem [1]. Do you know what the the source of the issue is / was here?

Ajit,

Maybe these errors were due to some of your debugging of the MC (Monte Carlo) jobs?

Marty Kandes
UCSD Glidein Factory Operations

[1]

Signature OK for client&#58;export_siteconf_info.gacbHL.py.
File &#34;/tmp/glide_ubwUZH/client/export_siteconf_info.py&#34;, line 201
if (&#39;GLIDEIN_Resource_Slots&#39; in glidein_config) and (&#39;static&#39; in GLIDEIN_Resource_Slots.split(&#34;,&#34;)) and (&#39;Ioslots&#39; in GLIDEIN_Resource_Slots.split(&#34;,&#34;))
^
SyntaxError&#58; invalid syntax
=== Validation error in /tmp/glide_ubwUZH/client/export_siteconf_info.py ===
Wed Oct 12 05&#58;18&#58;13 CDT 2016 Error running &#39;/tmp/glide_ubwUZH/client/export_siteconf_info.py&#39;
The test script did not produce an XML file. No further information available.
Wed Oct 12 05&#58;18&#58;13 CDT 2016 Notifying VO of error
Removed condor variables
Advertising failure to the VO collector
File &#34;/tmp/glide_8E1a6q/client/export_siteconf_info.py&#34;, line 201
if (&#39;GLIDEIN_Resource_Slots&#39; in glidein_config) and (&#39;static&#39; in GLIDEIN_Resource_Slots.split(&#34;,&#34;)) and (&#39;Ioslots&#39; in GLIDEIN_Resource_Slots.split(&#34;,&#34;))
^
SyntaxError&#58; invalid syntax
=== Validation error in /tmp/glide_8E1a6q/client/export_siteconf_info.py ===
Wed Oct 12 05&#58;18&#58;14 CDT 2016 Error running &#39;/tmp/glide_8E1a6q/client/export_siteconf_info.py&#39;
The test script did not produce an XML file. No further information available.
Wed Oct 12 05&#58;18&#58;14 CDT 2016 Sleeping 310
Wed Oct 12 05&#58;18&#58;14 CDT 2016 Notifying VO of error

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1476277516'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T13:05:16+00:00">Oct 12, 2016 01:05 PM UTC</time> by <b>ajit@....</b><a class="anchor" name="1476277516">&nbsp;</a></div><pre>Thanks Farrukh for taking care of this test, since I didn&#39;t managed to
get around this last week. Sorry Marty, got side tracked in testing a
new frontier configuration for T3_US_OSG for Dave Dykstra (targetted for
CHEP) and a bunch of urgent T2 stuff. I am still working on patching the
stageout issue with the MC jobs at TACC, and will follow-up with a few
rounds of test wfs there.

Thanks,
- Ajit

On 10/12/16 6&#58;44 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='29566#1476272654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T11:44:14+00:00">Oct 12, 2016 11:44 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1476272654">&nbsp;</a></div><pre>Looks like all jobs ran on two nodes [1], c411-601 and c411-201.

Best regards,
Farrukh

[1]
[fakhan@vocms069 out]$ condor_history -const &#39;DESIRED_Sites=?=&#34;T3_US_TACC&#34;&#39; -limit 128 -af&#58;h LastRemoteHost | sort | uniq -c
1 LastRemoteHost
64 slot1@glidein_124570_700904664@....
3 slot1@glidein_59013_748665906@....
61 slot1@glidein_59013_748665906@....</pre></div><div class='update_description'><i onclick="document.location='29566#1476262754'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-12T08:59:14+00:00">Oct 12, 2016 08:59 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1476262754">&nbsp;</a></div><pre>Hi Marty,

I have submitted the jobs, will let you know about the hostnames when the jobs run.

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1476205951'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-11T17:12:31+00:00">Oct 11, 2016 05:12 PM UTC</time><a class="anchor" name="1476205951">&nbsp;</a></div><pre>Farrukh,

I think we&#39;re sorted out the glidein configuration and submission at Stampede. Can you run two individual condor_sumbits of 64 test jobs with each job having about a 5 minute job lifetime? And then let me know the hostnames the jobs ran on?

Bo,

We&#39;ll sneed some idea on how large of a glidein pool CMS wants at Stampede. For example, LIGO used 32 nodes per glidein job =&#62; 50 max glidein jobs at Stampede =&#62; 50 glidein jobs * 32 nodes per job * 16 cores per node = 25600 cores max (i.e., 25600 SUs per hour max). If your requirements are significantly different from Fermilab, who&#39;ll also be running there, we&#39;ll have to adjust accordingly.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475794155'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-06T22:49:15+00:00">Oct 6, 2016 10:49 PM UTC</time><a class="anchor" name="1475794155">&nbsp;</a></div><pre>Ajit,

Can you send in another batch of test jobs? Let&#39;s do 32 jobs if you can.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475788454'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-06T21:14:14+00:00">Oct 6, 2016 09:14 PM UTC</time> by <b>ajit@....</b><a class="anchor" name="1475788454">&nbsp;</a></div><pre>Hi Edgar,

Yes, the xrdcp-old is available in osg-software through /cvmfs/oasis.... . But currently the WMA stageout code doesn&#39;t source anything from that location by default/explicitely unless that path is included in the default $PATH env on the WNs. But for this test, we can certainly tweak the WMA stageout code in ITB to get the xrdcp-old binary from cvmfs.

Cheers,
- Ajit

On 10/06/2016 03&#58;37 PM, Open Science Grid FootPrints wrote&#58;
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='29566#1475786222'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-06T20:37:02+00:00">Oct 6, 2016 08:37 PM UTC</time><a class="anchor" name="1475786222">&nbsp;</a></div><pre>Hi Ajit,

I forgot how CMS sets its PATH. But I can see xrdcp-old is available in cvmfs&#58;

[1336] efajardo@uaf-7 ~$ ls /cvmfs/oasis.opensciencegrid.org/osg-software/osg-wn-client/3.3/current/el6-x86_64/usr/bin/xrdcp-old
/cvmfs/oasis.opensciencegrid.org/osg-software/osg-wn-client/3.3/current/el6-x86_64/usr/bin/xrdcp-old

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1475783594'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-06T19:53:14+00:00">Oct 6, 2016 07:53 PM UTC</time> by <b>ajit@....</b><a class="anchor" name="1475783594">&nbsp;</a></div><pre>Hi Farrukh, Marty

The 12 jobs ran on these 2 nodes &#58;

c481-701.stampede.tacc.utexas.edu
c483-803.stampede.tacc.utexas.edu

But the stageout (unmerged/logs files) to FNAL failed for all of them because of this &#58;

INFO&#58;root&#58;Beginning report processing for step cmsRun1
/bin/sh&#58; xrdcp-old&#58; command not found
/bin/sh&#58; xrdcp-old&#58; command not found
/bin/sh&#58; xrdcp-old&#58; command not found

Looks like the &#34;xrdcp-old&#34; binary is not in the $PATH. So, we need to figure out the path for xrootd stuff in the WNs at the site and tweak the stageout code so that it can successfully find xrdcp-old command.

At least all jobs ran successfully up to the stageout, which is defintely a great progress.

Thanks,
- Ajit

On 10/06/2016 01&#58;12 PM, Open Science Grid FootPrints wrote&#58;
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='29566#1475777532'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-06T18:12:12+00:00">Oct 6, 2016 06:12 PM UTC</time><a class="anchor" name="1475777532">&nbsp;</a></div><pre>Farrukh,

Yes, jobs definitely ran. I&#39;m investigating in detail what other tweaks may be needed. I&#39;ll probably need another test workflow overnight to confirm a few things, but I will reply here with some more specifics at the end of my day today.

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475740393'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-06T07:53:13+00:00">Oct 6, 2016 07:53 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475740393">&nbsp;</a></div><pre>Hi Ajit, Marty,

I see running jobs from the WF at TACC. We&#39;re almost there &#58;)

Let&#39;s see how the WF runs and if there is anything else we might have to tweak in the CMS site local configuration etc.

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475706496'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T22:28:16+00:00">Oct 5, 2016 10:28 PM UTC</time><a class="anchor" name="1475706496">&nbsp;</a></div><pre>Ajit,

We have a glidein idle at Stampede. This is probably for your workflow. It is likely just waiting in the local batch queue to run.

Marty Kandes
UCSD Glidein Factory Operations

P.S. Please note that we are still tweaking the gldiein factory configuration, which requires us to remove idle glideins from time to time and, thus, will increase typical wait times.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475705833'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T22:17:13+00:00">Oct 5, 2016 10:17 PM UTC</time> by <b>ajit@....</b><a class="anchor" name="1475705833">&nbsp;</a></div><pre>Hi Farrukh,

The 12 jobs are still idling on the WMA side. So, I suspect issues related to frontend/factory/pilot validation etc.

Thanks,
- Ajit

On 10/05/2016 01&#58;29 PM, Open Science Grid FootPrints wrote&#58;
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='29566#1475692154'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T18:29:14+00:00">Oct 5, 2016 06:29 PM UTC</time> by <b>ajit@....</b><a class="anchor" name="1475692154">&nbsp;</a></div><pre>Hi Farrukh,

Injected a test wf in ITB for TACC. A total of 12 jobs are pending/Idling in WMA for the site.

Thanks,
- Ajit

On 10/05/2016 10&#58;08 AM, Open Science Grid FootPrints wrote&#58;
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='29566#1475681617'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T15:33:37+00:00">Oct 5, 2016 03:33 PM UTC</time><a class="anchor" name="1475681617">&nbsp;</a></div><pre>The solution was to use the condor tarballs that include the globus libraries. I think the path forward is to just have all tarballs including the globus libraries at all sites.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1475680096'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T15:08:16+00:00">Oct 5, 2016 03:08 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475680096">&nbsp;</a></div><pre>All my new sleep jobs ran successfully as well. What was the eventual solution to this problem?

Ajit, can you please submit a WF to the ITB now so we can make sure everything works as expected.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475653272'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-05T07:41:12+00:00">Oct 5, 2016 07:41 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475653272">&nbsp;</a></div><pre>Hi Marty,

I confirm that my old sleep jobs ran successfully. I have submitted a new batch just now. Let&#39;s see how it goes.

So the problem was eventually fixed by using a tarball with globus libraries?

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475615461'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-04T21:11:01+00:00">Oct 4, 2016 09:11 PM UTC</time><a class="anchor" name="1475615461">&nbsp;</a></div><pre>Farrukh,

I tested the factory override for CONDOR_VERSION. It had no affect on the Fermilab glideins, which were requesting condor 8.4.2. I&#39;ve simply gone ahead and update the GOC-ITB factory with the necessary (globus-included) tarballs for all versions of condor being requested at Stampede. Can you submit one final batch of test jobs overnight to provide confirmation that CMS can now run user jobs at Stampede?

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475600316'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-04T16:58:36+00:00">Oct 4, 2016 04:58 PM UTC</time><a class="anchor" name="1475600316">&nbsp;</a></div><pre>Farrukh,

It looks like your test jobs ran overnight with some of the changes we made yesterday. Can you confirm? I am working to confirm independently with Fermilab glideins now.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475573773'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-04T09:36:13+00:00">Oct 4, 2016 09:36 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475573773">&nbsp;</a></div><pre>Hi guys,

I have enabled puppet on the frontend machine so it will start sending RFC proxies again.

From the frontend, we are requesting 8.4.8 (stripped one), so you might have to override that in the factory entry.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475531427'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T21:50:27+00:00">Oct 3, 2016 09:50 PM UTC</time><a class="anchor" name="1475531427">&nbsp;</a></div><pre>Edgar,

It looks like CONDOR_PLATFORM might be overridden by frontend and not using correct tarball now. I&#39;ll see if I can override it.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475530690'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T21:38:10+00:00">Oct 3, 2016 09:38 PM UTC</time><a class="anchor" name="1475530690">&nbsp;</a></div><pre>Hi Marty,

Something feels wrongly configured on the factory. Looking at this log&#58;job.166666.4.err

From this line&#58;

=== validation OK in /tmp/glide_vRnVid/main/condor_platform_select.sh (0) ===
condor_bin_0.ga3j4Q.tgz&#58; OK
Signature OK for main&#58;condor_bin_0.ga3j4Q.tgz.
collector_setup.ga3j4Q.sh&#58; OK
Signature OK for main&#58;collector_setup.ga3j4Q.sh.

I can see it used this condor binary&#58;

<a href='http&#58;//glidein-itb.grid.iu.edu/factory/stage/condor_bin_0.ga3j4Q.tgz' target='_blank' rel='nofollow'>http&#58;//glidein-itb.grid.iu.edu/factory/stage/condor_bin_0.ga3j4Q.tgz</a>

And you can see that condor binary does not have the globus lbiraries. It seems we are going backwards, did not we fix this already?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1475530001'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T21:26:41+00:00">Oct 3, 2016 09:26 PM UTC</time><a class="anchor" name="1475530001">&nbsp;</a></div><pre>Edgar,

See any of the most recent logs in [1].

Marty Kandes
UCSD Glidein Factory Operations

[1]

gfactory@glidein-itb&#58;/var/log/gwms-factory/client/user_fecmsglobalitb/glidein_gfactory_instance/entry_Ligo_US_Stampede_gt5

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475529461'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T21:17:41+00:00">Oct 3, 2016 09:17 PM UTC</time><a class="anchor" name="1475529461">&nbsp;</a></div><pre>You got to be kidding me.  Can you point me to the factory path for the log. I want to see waht is going on

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1475529215'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T21:13:35+00:00">Oct 3, 2016 09:13 PM UTC</time><a class="anchor" name="1475529215">&nbsp;</a></div><pre>Edgar et al.,

It does look like we&#39;re still running into a problem with that globus library [1] the special tarball was suppose to fix.

Marty Kandes
UCSD Glidein Factory Operations

[1]

10/03/16 15&#58;37&#58;28 (fd&#58;4) (pid&#58;83083) (D_SECURITY) KEYCACHE&#58; created&#58; 0xdf61a0
10/03/16 15&#58;37&#58;28 (fd&#58;6) (pid&#58;83083) (D_SECURITY) SECMAN&#58; created non-negotiated security session 4ef7a50e4428a26de248b5f824c018153158cdc41e2db9cc for 0 (inf) seconds.
10/03/16 15&#58;37&#58;28 (fd&#58;6) (pid&#58;83083) (D_SECURITY) SECMAN&#58; now creating non-negotiated command mappings
10/03/16 15&#58;37&#58;28 (fd&#58;6) (pid&#58;83083) (D_SECURITY) IpVerify&#58;&#58;PunchHole&#58; opened DAEMON level to condor@parent
10/03/16 15&#58;37&#58;28 (fd&#58;6) (pid&#58;83083) (D_SECURITY) IpVerify&#58;&#58;PunchHole&#58; opened WRITE level to condor@parent
10/03/16 15&#58;37&#58;28 (fd&#58;6) (pid&#58;83083) (D_SECURITY) IpVerify&#58;&#58;PunchHole&#58; opened READ level to condor@parent
10/03/16 15&#58;37&#58;28 (fd&#58;6) (pid&#58;83083) (D_SECURITY) IpVerify&#58;&#58;PunchHole&#58; open count at level READ for condor@parent now 2
10/03/16 15&#58;37&#58;28 (fd&#58;7) (pid&#58;83083) (D_SECURITY) SECMAN&#58; command 67 CCB_REGISTER to collector vocms0341.cern.ch&#58;9619 from TCP port 43441 (blocking).
10/03/16 15&#58;37&#58;29 (fd&#58;7) (pid&#58;83083) (D_SECURITY) SECMAN&#58; new session, doing initial authentication.
10/03/16 15&#58;37&#58;29 (fd&#58;7) (pid&#58;83083) (D_SECURITY) SECMAN&#58; Auth methods&#58; GSI
10/03/16 15&#58;37&#58;29 (fd&#58;7) (pid&#58;83083) (D_SECURITY) AUTHENTICATE&#58; setting timeout for &#60;188.185.162.40&#58;9619&#62; to 20.
10/03/16 15&#58;37&#58;29 (fd&#58;7) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; in handshake(my_methods = &#39;GSI&#39;)
10/03/16 15&#58;37&#58;29 (fd&#58;7) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; handshake() - i am the client
10/03/16 15&#58;37&#58;29 (fd&#58;7) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; excluding GSI&#58; Failed to open GSI libraries&#58; libglobus_common.so.0&#58; cannot open shared object file&#58; No such file or directory
10/03/16 15&#58;37&#58;29 (fd&#58;7) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; sending (methods == 0) to server
10/03/16 15&#58;37&#58;29 (fd&#58;7) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; server replied (method = 0)
10/03/16 15&#58;37&#58;29 (fd&#58;6) (pid&#58;83083) (D_SECURITY) SECMAN&#58; created non-negotiated security session &#60;129.114.78.86&#58;58239&#62;#1475527049#1 for 0 (inf) seconds.
10/03/16 15&#58;37&#58;29 (fd&#58;6) (pid&#58;83083) (D_SECURITY) SECMAN&#58; now creating non-negotiated command mappings
10/03/16 15&#58;37&#58;29 (fd&#58;6) (pid&#58;83083) (D_SECURITY) SECMAN&#58; exporting session info for &#60;129.114.78.86&#58;58239&#62;#1475527049#1&#58; [Integrity=&#34;YES&#34;;Encryption=&#34;NO&#34;;CryptoMethods=&#34;3DES&#34;;]
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) SECMAN&#58; command 60008 DC_CHILDALIVE to daemon at &#60;129.114.78.86&#58;37631&#62; from TCP port 45209 (blocking).
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) SECMAN&#58; using session 4ef7a50e4428a26de248b5f824c018153158cdc41e2db9cc for {&#60;129.114.78.86&#58;37631?addrs=129.114.78.86-37631&#62;,&#60;60008&#62;}.
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) SECMAN&#58; successfully enabled message authenticator!
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) SECMAN&#58; startCommand succeeded.
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission ALLOW
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
<div id='show_1647286716' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1647286716'>10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission READ
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) ipverify&#58; READ optimized to allow anyone
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission WRITE
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; deny WRITE&#58; anonymous@* (from config value DENY_WRITE)
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission NEGOTIATOR
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; deny NEGOTIATOR&#58; anonymous@* (from config value DENY_NEGOTIATOR)
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission ADMINISTRATOR
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; deny ADMINISTRATOR&#58; anonymous@* (from config value DENY_ADMINISTRATOR)
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission OWNER
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; deny OWNER&#58; anonymous@* (from config value DENY_OWNER)
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission CONFIG
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; deny CONFIG&#58; anonymous@* (from config value DENY_CONFIG)
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission DAEMON
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; deny DAEMON&#58; anonymous@* (from config value DENY_DAEMON)
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission SOAP
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) ipverify&#58; SOAP optimized to allow anyone
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission DEFAULT
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) ipverify&#58; DEFAULT optimized to allow anyone
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission CLIENT
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; allow CLIENT&#58; collector*/*, anonymous*/*, frontend*/*, condor*/*, submit-side@matchsession/* (from config value ALLOW_CLIENT)
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; warning, strange entry collector*/*
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; warning, strange entry anonymous*/*
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; warning, strange entry frontend*/*
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; warning, strange entry condor*/*
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission ADVERTISE_STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; deny ADVERTISE_STARTD&#58; anonymous@* (from config value DENY_DAEMON)
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission ADVERTISE_SCHEDD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; deny ADVERTISE_SCHEDD&#58; anonymous@* (from config value DENY_DAEMON)
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Subsystem STARTD
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; Permission ADVERTISE_MASTER
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; deny ADVERTISE_MASTER&#58; anonymous@* (from config value DENY_DAEMON)
10/03/16 15&#58;37&#58;29 (fd&#58;12) (pid&#58;83083) (D_SECURITY) IPVERIFY&#58; matched user condor@parent from * to allow list
10/03/16 15&#58;37&#58;33 (fd&#58;8) (pid&#58;83083) (D_SECURITY) SECMAN&#58; command 0 UPDATE_STARTD_AD to collector cmssrv215.fnal.gov&#58;9621 from TCP port 54974 (non-blocking).
10/03/16 15&#58;37&#58;33 (fd&#58;8) (pid&#58;83083) (D_SECURITY) SECMAN&#58; waiting for TCP connection to collector cmssrv215.fnal.gov&#58;9621.
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) SECMAN&#58; command 0 UPDATE_STARTD_AD to collector vocms0115.cern.ch&#58;9621 from TCP port 40440 (non-blocking).
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) SECMAN&#58; waiting for TCP connection to collector vocms0115.cern.ch&#58;9621.
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) SECMAN&#58; resuming command 0 UPDATE_STARTD_AD to collector cmssrv215.fnal.gov&#58;9621 from TCP port 54974 (non-blocking).
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) SECMAN&#58; resuming command 0 UPDATE_STARTD_AD to collector cmssrv215.fnal.gov&#58;9621 from TCP port 54974 (non-blocking).
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) SECMAN&#58; new session, doing initial authentication.
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) SECMAN&#58; Auth methods&#58; GSI
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) AUTHENTICATE&#58; setting timeout for &#60;131.225.205.29&#58;9621&#62; to 20.
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; in handshake(my_methods = &#39;GSI&#39;)
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; handshake() - i am the client
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; excluding GSI&#58; Failed to open GSI libraries&#58; libglobus_common.so.0&#58; cannot open shared object file&#58; No such file or directory
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; sending (methods == 0) to server
10/03/16 15&#58;37&#58;33 (fd&#58;9) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; server replied (method = 0)
10/03/16 15&#58;37&#58;33 (fd&#58;6) (pid&#58;83083) (D_SECURITY) SECMAN&#58; resuming command 0 UPDATE_STARTD_AD to collector vocms0115.cern.ch&#58;9621 from TCP port 40440 (non-blocking).
10/03/16 15&#58;37&#58;34 (fd&#58;6) (pid&#58;83083) (D_SECURITY) SECMAN&#58; resuming command 0 UPDATE_STARTD_AD to collector vocms0115.cern.ch&#58;9621 from TCP port 40440 (non-blocking).
10/03/16 15&#58;37&#58;34 (fd&#58;6) (pid&#58;83083) (D_SECURITY) SECMAN&#58; new session, doing initial authentication.
10/03/16 15&#58;37&#58;34 (fd&#58;6) (pid&#58;83083) (D_SECURITY) SECMAN&#58; Auth methods&#58; GSI
10/03/16 15&#58;37&#58;34 (fd&#58;6) (pid&#58;83083) (D_SECURITY) AUTHENTICATE&#58; setting timeout for &#60;188.185.165.172&#58;9621&#62; to 20.
10/03/16 15&#58;37&#58;34 (fd&#58;6) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; in handshake(my_methods = &#39;GSI&#39;)
10/03/16 15&#58;37&#58;34 (fd&#58;6) (pid&#58;83083) (D_SECURITY) HANDSHAKE&#58; handshake() - i am the client

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1647286716').click(function() {
            $('#detail_1647286716').slideDown("normal");
            $('#show_1647286716').hide();
            $('#hide_1647286716').show();
        });
        $('#hide_1647286716').click(function() {
            $('#detail_1647286716').slideUp();
            $('#hide_1647286716').hide();
            $('#show_1647286716').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1475529060'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T21:11:00+00:00">Oct 3, 2016 09:11 PM UTC</time><a class="anchor" name="1475529060">&nbsp;</a></div><pre>Farrukh,

It looks like factory might have control to overwrite frontend when const=&#34;False&#34;? This is my current STARTD_DEBUG configuration for the entry [1] and it allowed me to change from D_FULLDEBUG to D_ALL successfully.

Marty Kandes
UCSD Glidein Factory Operations

[1]

&#60;attr name=&#34;STARTD_DEBUG&#34; const=&#34;False&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; publish=&#34;True&#34; type=&#34;expr&#34; value=&#34;D_ALL&#34;/&#62;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475522752'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T19:25:52+00:00">Oct 3, 2016 07:25 PM UTC</time><a class="anchor" name="1475522752">&nbsp;</a></div><pre>Has anyone tested this special glidein tarball (with globus) actually does what we are expecting it to do? For example, we still have the globes-related warnings [1] [2] in the glidein *.err logs. I don&#39;t know if these are important to have glidein authentication succeed when connecting back to frontend.

Also, do frontends need to receive VO extension information from glidein/pilot proxy? Maybe GRAM5 does not pass this along in proxy delegation?

Marty Kandes
UCSD Glidein Factory Operations

[1]

setup_x509.g9ulVv.sh&#58; OK
Signature OK for main&#58;setup_x509.g9ulVv.sh.
WARNING - Could not find CA certificates!
Looked in&#58;
$X509_CERT_DIR ()
$HOME/.globus/certificates/ (/home1/04092/tg833915/.globus/certificates/)
/etc/grid-security/certificates/        $GLOBUS_LOCATION/share/certificates/ (/opt/apps/xsede/gram5-5.2.3/share/certificates/)
$X509_CADIR ()
grid-proxy-init command not found in path!
voms-proxy-init command not found in path!
Not all x509 commands found in path (2 missing)!
=== validation OK in /tmp/glide_1ajK0j/main/setup_x509.sh (0) ===

[2]

Mon Oct 3 12&#58;34&#58;20 CDT 2016 GLOBUS_PATH not defined and /opt/apps/xsede/gram5-5.2.3/etc/globus-user-env.sh does not exist.
Mon Oct 3 12&#58;34&#58;20 CDT 2016 Continuing like nothing happened

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475522476'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T19:21:16+00:00">Oct 3, 2016 07:21 PM UTC</time><a class="anchor" name="1475522476">&nbsp;</a></div><pre>Edgar,

I realize that. We still don&#39;t know yet who actually has control over debug level. Frontend or factory. Working to confirm now.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475522382'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T19:19:42+00:00">Oct 3, 2016 07:19 PM UTC</time><a class="anchor" name="1475522382">&nbsp;</a></div><pre>Hi Marrty,

But we need&#58;

STARTD_LOG = D_FULLDEBUG, D_SECURITY

We need both

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1475522204'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T19:16:44+00:00">Oct 3, 2016 07:16 PM UTC</time><a class="anchor" name="1475522204">&nbsp;</a></div><pre>Edgar,

There is no new information in the STARTD logs even though FULLDEBUG is on now [1]. I will try other debugging levels if we determine factory is overriding front-end.

Marty Kandes
UCSD Glidein Factory Operations

[1]

10/03/16 12&#58;34&#58;50 Daemon Log is logging&#58; D_FULLDEBUG D_ALWAYS D_ERROR

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475522058'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T19:14:18+00:00">Oct 3, 2016 07:14 PM UTC</time><a class="anchor" name="1475522058">&nbsp;</a></div><pre>Farrukh,

I would say go ahead and turn on RFC proxies again. It sounds like people agree that this was probably not the issue. We&#39;re also seeing same problem with Fermilab VO frontend now, and they are not using RFC.

Parag pointed out the &#39;string&#39; vs. &#39;expr&#39; issue as well. We are now using &#39;expr&#39;. What is the current debugging level set on the frontend-side? I&#39;ll double check who is overriding who.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475486654'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-10-03T09:24:14+00:00">Oct 3, 2016 09:24 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475486654">&nbsp;</a></div><pre>Hi Marty, Jeff,

I think type &#39;string&#39; might be breaking things here. Try switching to &#39;expr&#39; which makes glideinWMS take the value as is. If &#39;expr&#39; doesn&#39;t work, then &#39;int&#39; might. Expression type (at least for the frontend side) was added recently to gwms.

Also, I believe the knob &#39; const=&#34;False&#34; &#39; determines if something can be overwritten by the FE or not. So if you set this to true, the factory knob overwrites the frontend one.

Back to my original question though, should I enable RFC proxies again? I apologize if I sound pushy. Keeping puppet turned off for an extended period of time is not a good idea &#58;)

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475277464'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T23:17:44+00:00">Sep 30, 2016 11:17 PM UTC</time><a class="anchor" name="1475277464">&nbsp;</a></div><pre>This is the normal logic in gwms.  Factories can&#39;t override the &#34;attrs&#34; section, you can only think of them as &#34;defaults&#34;.  If Farrukh is already setting ALL_DEBUG then setting it to something different in the factory will have no effect, the FE wins.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='29566#1475265747'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T20:02:27+00:00">Sep 30, 2016 08:02 PM UTC</time><a class="anchor" name="1475265747">&nbsp;</a></div><pre>Farrukh,

We&#39;ve already had the ALL_DEGUB attribute [1] in the factory configuration for at least the last week or so to no effect. I&#39;ve now tried to just back off to STARTD_DEBUG in case glideinWMS doesn&#39;t recognize ALL_DEBUG on the factory for some reason.

Marty Kandes
UCSD Glidein Factory Operations

[1]

&#60;attr name=&#34;ALL_DEBUG&#34; const=&#34;False&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; publish=&#34;True&#34; type=&#34;string&#34; value=&#34;D_ALL&#34;/&#62;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475223673'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-30T08:21:13+00:00">Sep 30, 2016 08:21 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475223673">&nbsp;</a></div><pre>Hi Marty,

After switching to D_SECURITY, for some reason I do not see security related messages at all now.

BTW, you can set the debug level by adding an extra attribute to the factory entry. I generally set &#34;ALL_DEBUG&#34; from the frontend side to avoid having to set the log verbosity daemon by daemon.

On the frontend, I use this&#58;
&#60;attr name=&#34;ALL_DEBUG&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;False&#34; type=&#34;expr&#34; value=&#34;D_SECUIRTY&#34;/&#62;

You have to make a factory equivalent of this.

(PS&#58; &#39;expr&#39; type was added to gwms recently I believe so might not work with an older version)

Also, should I enable puppet back on the node now? By the looks of things, it is not a RFC proxy issue.

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475170422'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T17:33:42+00:00">Sep 29, 2016 05:33 PM UTC</time><a class="anchor" name="1475170422">&nbsp;</a></div><pre>Farrukh,

Thanks for turning on debugging from the frontend. As Edgar pointed out, our DEBUG attribute on the factory seemed to have no effect. I&#39;ll check on new glidein logs throughout the day to see if any of the new ones have the SECURITY debugging turned on.

Marty

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475166975'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T16:36:15+00:00">Sep 29, 2016 04:36 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475166975">&nbsp;</a></div><pre>I think Marty was setting some params from the factory side too, so might be that?

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475166710'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T16:31:50+00:00">Sep 29, 2016 04:31 PM UTC</time><a class="anchor" name="1475166710">&nbsp;</a></div><pre>Farrukh,

But if you check on the LOG that I posted&#58;

09/29/16 09&#58;26&#58;10 (pid&#58;87835) Daemon Log is logging&#58; D_ALWAYS D_ERROR D_JOB

It was not set to FULLDEBUG. So somehwere it is overriding it.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1475166433'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T16:27:13+00:00">Sep 29, 2016 04:27 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475166433">&nbsp;</a></div><pre>I have reduce the log level from FULLDEBUG to SECURITY

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475164888'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T16:01:28+00:00">Sep 29, 2016 04:01 PM UTC</time><a class="anchor" name="1475164888">&nbsp;</a></div><pre>For what it is worth, I think you should stick a well known certificates distribution into $HOME/.globus/certificates/ in stampede, and remove the *.r0 files. That way you know at least least the glidein has sane CA certs.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1475164555'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T15:55:55+00:00">Sep 29, 2016 03:55 PM UTC</time><a class="anchor" name="1475164555">&nbsp;</a></div><pre>OK I double checked. So RFC had nothing do with it. Damm debugging GSI authentications is hard.

Farrukh,

LOoking at the StartdLog, I see&#58;

09/29/16 09&#58;26&#58;10 (pid&#58;87835) Daemon Log is logging&#58; D_ALWAYS D_ERROR D_JOB

Could you switch it in the frontend side to D_SECURITY or D_ALL so the Startds are more verbose on the problem?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1475160853'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T14:54:13+00:00">Sep 29, 2016 02:54 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475160853">&nbsp;</a></div><pre>Edgar,

Yep, condor started just fine. It was complaining about authentication failures again.

I picked up a *.err file from the client_log that finished in the last 8 hours or so (for example&#58; job.164340.0.err in &#34;/var/lib/gwms-factory/work-dir/client_log/user_fecmsglobalitb/entry_Ligo_US_Stampede_gt5&#34;)

I couldn&#39;t find anything useful in condor logs.

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475160301'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T14:45:01+00:00">Sep 29, 2016 02:45 PM UTC</time><a class="anchor" name="1475160301">&nbsp;</a></div><pre>Farrukhm

I think this is just a red herring. Could you point me to the actual logs? There must be another error? Did condor start?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1475159781'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T14:36:21+00:00">Sep 29, 2016 02:36 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475159781">&nbsp;</a></div><pre>I see a few glideins finally run and I see this [1] in the logs. Not sure if it is related. I am assuming we can ignore proxy init binaries, but the certs should be accessible and visible right? Or maybe we need to update their location in the entry?

Farrukh

[1]
setup_x509.g9sl7x.sh&#58; OK
Signature OK for main&#58;setup_x509.g9sl7x.sh.
WARNING - Could not find CA certificates!
Looked in&#58;
$X509_CERT_DIR ()
$HOME/.globus/certificates/ (/home1/04092/tg833915/.globus/certificates/)
/etc/grid-security/certificates/        $GLOBUS_LOCATION/share/certificates/ (/opt/apps/xsede/gram5-5.2.3/share/certificates/)
$X509_CADIR ()
grid-proxy-init command not found in path!
voms-proxy-init command not found in path!
Not all x509 commands found in path (2 missing)!</pre></div><div class='update_description'><i onclick="document.location='29566#1475133676'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-29T07:21:16+00:00">Sep 29, 2016 07:21 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475133676">&nbsp;</a></div><pre>Hi Marty,

I just disabled puppet on the node again and switched to non RFC proxies. I also submitted around 40 sleep jobs and I see the frontend now requesting the factory for glideins.

I have no idea what could be causing the authentication failures. All other glideins in our testbed seem to run fine without any authentication issues. I will try to take a look at the glidein logs later today to see if I can spot something in them.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475097548'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T21:19:08+00:00">Sep 28, 2016 09:19 PM UTC</time><a class="anchor" name="1475097548">&nbsp;</a></div><pre>Farrukh,

Unfortunately, we only have glidein logs from the past day or so. But I think you&#39;re right. If your jobs are still idle, then the non-RFC proxies probably didn&#39;t work either. Let&#39;s just confirm this tomorrow. Switch off RFC, then submit batch of test jobs. I&#39;ll check first thing in the morning tomorrow when I get in so we don&#39;t miss this logging window again.

Any other ideas on what could be causing the authentication issues between the glideins at Stampede and the CMS frontend collectors?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475096056'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T20:54:16+00:00">Sep 28, 2016 08:54 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1475096056">&nbsp;</a></div><pre>Hi Marty,

Are there any logs from over the weekend or up until Tuesday? I had to switch puppet back on our machine since it went into a weird state after missing a network configuration update from CERN IT.

My jobs from before the weekend are still idle as well, which makes me think that non RFC proxies didn&#39;t work either. I can switch the proxies back to non RFC tomorrow.

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1475093837'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T20:17:17+00:00">Sep 28, 2016 08:17 PM UTC</time><a class="anchor" name="1475093837">&nbsp;</a></div><pre>Farrukh,

I&#39;m still only seeing RFC compliant proxies [1] at the GOC-ITB factory from CMSG-ITB_gWMSFrontend-v1_0. And, of course, there is still no change in the Startd logs [2]. Can you double check the frontend configuration and turn off RFC proxies again?

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

[1]

subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch/CN=1031724570
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch
identity  &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch
type      &#58; RFC compliant proxy
strength  &#58; 1024 bits
path      &#58; /var/lib/gwms-factory/client-proxies/user_fecmsglobalitb/glidein_gfactory_instance/credential_CMSG-ITB_gWMSFrontend-v1_0.opportunistic_conservative_747660
timeleft  &#58; 64&#58;49&#58;14
key usage &#58; Digital Signature, Key Encipherment
=== VO cms extension information ===
VO        &#58; cms
subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=voms2.cern.ch
attribute &#58; /cms/Role=pilot/Capability=NULL
attribute &#58; /cms/Role=NULL/Capability=NULL
attribute &#58; /cms/dcms/Role=NULL/Capability=NULL
attribute &#58; /cms/escms/Role=NULL/Capability=NULL
attribute &#58; /cms/itcms/Role=NULL/Capability=NULL
attribute &#58; /cms/local/Role=NULL/Capability=NULL
attribute &#58; /cms/uscms/Role=NULL/Capability=NULL
timeleft  &#58; 64&#58;49&#58;13
uri       &#58; voms2.cern.ch&#58;15002

[2]

<div id='show_1424844149' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1424844149'>09/28/16 12&#58;46&#58;17 (pid&#58;37007) SECMAN&#58; required authentication with collector cmssrv215.fnal.gov&#58;9623 failed, so aborting command UPDATE_STARTD_AD.
09/28/16 12&#58;46&#58;17 (pid&#58;37007) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/28/16 12&#58;46&#58;17 (pid&#58;37007) Failed to start non-blocking update to &#60;131.225.205.29&#58;9623&#62;.
09/28/16 12&#58;46&#58;17 (pid&#58;37007) SECMAN&#58; required authentication with collector vocms0115.cern.ch&#58;9718 failed, so aborting command UPDATE_STARTD_AD.
09/28/16 12&#58;46&#58;17 (pid&#58;37007) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/28/16 12&#58;46&#58;17 (pid&#58;37007) Failed to start non-blocking update to &#60;188.185.165.172&#58;9718&#62;.
09/28/16 12&#58;46&#58;40 (pid&#58;37007) State change&#58; benchmarks completed
09/28/16 12&#58;46&#58;40 (pid&#58;37007) Changing activity&#58; Benchmarking -&#62; Idle
09/28/16 12&#58;46&#58;44 (pid&#58;37007) SECMAN&#58; required authentication with collector cmssrv215.fnal.gov&#58;9623 failed, so aborting command UPDATE_STARTD_AD.
09/28/16 12&#58;46&#58;44 (pid&#58;37007) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/28/16 12&#58;46&#58;44 (pid&#58;37007) Failed to start non-blocking update to &#60;131.225.205.29&#58;9623&#62;.
09/28/16 12&#58;46&#58;44 (pid&#58;37007) SECMAN&#58; required authentication with collector vocms0115.cern.ch&#58;9718 failed, so aborting command UPDATE_STARTD_AD.
09/28/16 12&#58;46&#58;44 (pid&#58;37007) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/28/16 12&#58;46&#58;44 (pid&#58;37007) Failed to start non-blocking update to &#60;188.185.165.172&#58;9718&#62;.
09/28/16 12&#58;47&#58;13 (pid&#58;37007) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9621 failed, so aborting command CCB_REGISTER.
09/28/16 12&#58;47&#58;13 (pid&#58;37007) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/28/16 12&#58;47&#58;13 (pid&#58;37007) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9621 failed; will try to reconnect in 60 seconds.
09/28/16 12&#58;48&#58;13 (pid&#58;37007) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9621 failed, so aborting command CCB_REGISTER.
09/28/16 12&#58;48&#58;13 (pid&#58;37007) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/28/16 12&#58;48&#58;13 (pid&#58;37007) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9621 failed; will try to reconnect in 60 seconds.
09/28/16 12&#58;49&#58;13 (pid&#58;37007) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9621 failed, so aborting command CCB_REGISTER.
09/28/16 12&#58;49&#58;13 (pid&#58;37007) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/28/16 12&#58;49&#58;13 (pid&#58;37007) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9621 failed; will try to reconnect in 60 seconds.
09/28/16 12&#58;50&#58;14 (pid&#58;37007) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9621 failed, so aborting command CCB_REGISTER.
09/28/16 12&#58;50&#58;14 (pid&#58;37007) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/28/16 12&#58;50&#58;14 (pid&#58;37007) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9621 failed; will try to reconnect in 60 seconds.
09/28/16 12&#58;51&#58;14 (pid&#58;37007) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9621 failed, so aborting command CCB_REGISTER.
09/28/16 12&#58;51&#58;14 (pid&#58;37007) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/28/16 12&#58;51&#58;14 (pid&#58;37007) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9621 failed; will try to reconnect in 60 seconds.
09/28/16 12&#58;52&#58;15 (pid&#58;37007) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9621 failed, so aborting command CCB_REGISTER.
09/28/16 12&#58;52&#58;15 (pid&#58;37007) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1424844149').click(function() {
            $('#detail_1424844149').slideDown("normal");
            $('#show_1424844149').hide();
            $('#hide_1424844149').show();
        });
        $('#hide_1424844149').click(function() {
            $('#detail_1424844149').slideUp();
            $('#hide_1424844149').hide();
            $('#show_1424844149').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1475092051'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T19:47:31+00:00">Sep 28, 2016 07:47 PM UTC</time><a class="anchor" name="1475092051">&nbsp;</a></div><pre>Edgar,

Checking on this now too.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1475079772'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T16:22:52+00:00">Sep 28, 2016 04:22 PM UTC</time><a class="anchor" name="1475079772">&nbsp;</a></div><pre>Hi Edgar,

I&#39;ve heard something along these lines from Marty on today&#39;s Ops call ... I&#39;ll check on that later today or let Marty to comment when he jumps on shift this afternoon as I didn&#39;t follow what&#39;s this about &#34;whithout RFC&#34; proxies other than I heard we are good from Factory side with new RFC proxies... But it looks you&#39;re asking something different regarding this particular case...

-Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='29566#1475078171'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-28T15:56:11+00:00">Sep 28, 2016 03:56 PM UTC</time><a class="anchor" name="1475078171">&nbsp;</a></div><pre>Fact Ops,

Did we get somehwere without the RFC proxies?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1474895892'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-26T13:18:12+00:00">Sep 26, 2016 01:18 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1474895892">&nbsp;</a></div><pre>Hi Marty,

I just submitted some sleep jobs.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1474657057'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T18:57:37+00:00">Sep 23, 2016 06:57 PM UTC</time><a class="anchor" name="1474657057">&nbsp;</a></div><pre>Farrukh, Bo,

We&#39;ll need some new test jobs to create some pressure for the glideins. I see no new glidein logs since yesterday morning.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1474656266'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-23T18:44:26+00:00">Sep 23, 2016 06:44 PM UTC</time><a class="anchor" name="1474656266">&nbsp;</a></div><pre>Hi Marty, Farrukh,

Do you have some new logs or what happened with the non RFC glidiens?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1474564109'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T17:08:29+00:00">Sep 22, 2016 05:08 PM UTC</time><a class="anchor" name="1474564109">&nbsp;</a></div><pre>Farrukh,

Thanks. I&#39;ve removed any and all idle glideins that were currently pending at Stampede in order to ensure they no longer have RFC proxies attached to them. Let&#39;s wait and see if the new batch of glideins no longer have the communication/authentication problem with the CMS CERN frontend collectors.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1474540752'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-22T10:39:12+00:00">Sep 22, 2016 10:39 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1474540752">&nbsp;</a></div><pre>Hi Marty,

Puppet overwrites any manual changes to the proxies after 24 hours (since proxies are created once every 24 hours for CMS). I have turned off RFC proxies again and this time disabled puppet as well.

Let me know if you still see RFC proxies.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1474502163'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-21T23:56:03+00:00">Sep 21, 2016 11:56 PM UTC</time><a class="anchor" name="1474502163">&nbsp;</a></div><pre>Edgar, Farrukh,

I&#39;m still seeing RFC proxies [1] from the CERN CMS Global ITB Frontend and the same communication problems [2] observed previously in the STARTD logs.

Marty Kandes
UCSD Glidein Factory Operations

[1]

subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch/CN=169743173
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch
identity  &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch
type      &#58; RFC compliant proxy
strength  &#58; 1024 bits
path      &#58; /var/lib/gwms-factory/client-proxies/user_fecmsglobalitb/glidein_gfactory_instance/credential_CMSG-ITB_gWMSFrontend-v1_0.opportunistic_conservative_747660
timeleft  &#58; 61&#58;05&#58;54
key usage &#58; Digital Signature, Key Encipherment
=== VO cms extension information ===
VO        &#58; cms
subject   &#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch
issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=lcg-voms2.cern.ch
attribute &#58; /cms/Role=pilot/Capability=NULL
attribute &#58; /cms/Role=NULL/Capability=NULL
attribute &#58; /cms/dcms/Role=NULL/Capability=NULL
attribute &#58; /cms/escms/Role=NULL/Capability=NULL
attribute &#58; /cms/itcms/Role=NULL/Capability=NULL
attribute &#58; /cms/local/Role=NULL/Capability=NULL
attribute &#58; /cms/uscms/Role=NULL/Capability=NULL
timeleft  &#58; 61&#58;05&#58;54
uri       &#58; lcg-voms2.cern.ch&#58;15002

[2]

09/18/16 01&#58;02&#58;23 (pid&#58;75833) SECMAN&#58; required authentication with collector cmssrv215.fnal.gov&#58;9656 failed, so aborting command UPDATE_STARTD_AD.
09/18/16 01&#58;02&#58;23 (pid&#58;75833) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
<div id='show_1446199182' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1446199182'>09/18/16 01&#58;02&#58;23 (pid&#58;75833) Failed to start non-blocking update to &#60;131.225.205.29&#58;9656&#62;.
09/18/16 01&#58;02&#58;23 (pid&#58;75833) SECMAN&#58; required authentication with collector vocms0115.cern.ch&#58;9656 failed, so aborting command UPDATE_STARTD_AD.
09/18/16 01&#58;02&#58;23 (pid&#58;75833) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/18/16 01&#58;02&#58;23 (pid&#58;75833) Failed to start non-blocking update to &#60;188.185.165.172&#58;9656&#62;.
09/18/16 01&#58;02&#58;52 (pid&#58;75833) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9631 failed, so aborting command CCB_REGISTER.
09/18/16 01&#58;02&#58;52 (pid&#58;75833) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/18/16 01&#58;02&#58;52 (pid&#58;75833) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9631 failed; will try to reconnect in 60 seconds.
09/18/16 01&#58;02&#58;52 (pid&#58;75833) SECMAN&#58; required authentication with collector vocms0340.cern.ch&#58;9631 failed, so aborting command CCB_REGISTER.
09/18/16 01&#58;02&#58;52 (pid&#58;75833) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/18/16 01&#58;02&#58;52 (pid&#58;75833) CCBListener&#58; connection to CCB server vocms0340.cern.ch&#58;9631 failed; will try to reconnect in 60 seconds.
09/18/16 01&#58;03&#58;53 (pid&#58;75833) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9631 failed, so aborting command CCB_REGISTER.
09/18/16 01&#58;03&#58;53 (pid&#58;75833) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/18/16 01&#58;03&#58;53 (pid&#58;75833) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9631 failed; will try to reconnect in 60 seconds.
09/18/16 01&#58;03&#58;53 (pid&#58;75833) SECMAN&#58; required authentication with collector vocms0340.cern.ch&#58;9631 failed, so aborting command CCB_REGISTER.
09/18/16 01&#58;03&#58;53 (pid&#58;75833) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/18/16 01&#58;03&#58;53 (pid&#58;75833) CCBListener&#58; connection to CCB server vocms0340.cern.ch&#58;9631 failed; will try to reconnect in 60 seconds.
09/18/16 01&#58;04&#58;54 (pid&#58;75833) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9631 failed, so aborting command CCB_REGISTER.
09/18/16 01&#58;04&#58;54 (pid&#58;75833) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1446199182').click(function() {
            $('#detail_1446199182').slideDown("normal");
            $('#show_1446199182').hide();
            $('#hide_1446199182').show();
        });
        $('#hide_1446199182').click(function() {
            $('#detail_1446199182').slideUp();
            $('#hide_1446199182').hide();
            $('#show_1446199182').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1474302346'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-19T16:25:46+00:00">Sep 19, 2016 04:25 PM UTC</time><a class="anchor" name="1474302346">&nbsp;</a></div><pre>Hi Fact Ops,

Any news, did the non RFC proxies worked?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1474054096'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T19:28:16+00:00">Sep 16, 2016 07:28 PM UTC</time><a class="anchor" name="1474054096">&nbsp;</a></div><pre>Farrukh,

Thanks. I see some glideins [1] now idling at Stampede. We&#39;ll keep an eye on them.

Marty Kandes
UCSD Glidein Factory Operations

[1]

2016-09-16 19&#58;24&#58;48 UTC [gfactory@glidein-itb&#58;/etc/osg-gfactory]$ entry_q Ligo_US_Stampede_gt5

-- Schedd&#58; schedd_glideins5@.... &#58; &#60;129.79.53.24&#58;39048?...
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
159288.0   fefermifife     9/16 18&#58;59   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh
159288.1   fefermifife     9/16 18&#58;59   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh
159296.0   fefermifife     9/16 19&#58;16   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh
159296.1   fefermifife     9/16 19&#58;16   0+00&#58;00&#58;00 H  0   0.1  glidein_startup.sh
159297.0   fecmsglobalitb  9/16 19&#58;24   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh
159297.1   fecmsglobalitb  9/16 19&#58;24   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh
159297.2   fecmsglobalitb  9/16 19&#58;24   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1474053316'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T19:15:16+00:00">Sep 16, 2016 07:15 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1474053316">&nbsp;</a></div><pre>I am submitting some sleep jobs now.

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1474049647'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T18:14:07+00:00">Sep 16, 2016 06:14 PM UTC</time><a class="anchor" name="1474049647">&nbsp;</a></div><pre>Edgar,

Yes, I can .... if there were any old glideins still hanging around --- there is not. I think we need someone on the CMS frontend-side to queue up some new test jobs.

Farrukh, Bo,

Can one of you queue up some new test jobs for us?

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1474046549'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T17:22:29+00:00">Sep 16, 2016 05:22 PM UTC</time><a class="anchor" name="1474046549">&nbsp;</a></div><pre>HI Marty,

Can you remove the old glidiens and see if hte new ones make it?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1474033514'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-16T13:45:14+00:00">Sep 16, 2016 01:45 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1474033514">&nbsp;</a></div><pre>Hi guys,

The CERN IT intervention failed yesterday, so I have created a new VM. It uses the same service certs etc.

I am going to switch the proxies back to non RFC manually. Keep in that this stays for the next 24 hours, after which puppet is going to revert them back to RFC.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1473980588'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T23:03:08+00:00">Sep 15, 2016 11:03 PM UTC</time><a class="anchor" name="1473980588">&nbsp;</a></div><pre>What&#39;s the test frontend DN to add?

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1473969978'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T20:06:18+00:00">Sep 15, 2016 08:06 PM UTC</time><a class="anchor" name="1473969978">&nbsp;</a></div><pre>Farrukh,

I&#39;ll try the ALL_DEBUG mode from the factory-side. We don&#39;t see anything new in the StartdLogs. It still looks like frontend collectors don&#39;t trust us for some reason. But we are still only getting the FNAL ITB front-end glideins.

Edgar (cc Bo),

I think we&#39;re listed on this CMS XSEDE allocation. Can we register the Factory Ops test frontend DN and try from there if we can&#39;t get a non-RFC proxy?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1473956975'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T16:29:35+00:00">Sep 15, 2016 04:29 PM UTC</time><a class="anchor" name="1473956975">&nbsp;</a></div><pre>Hi Farruk,

Well I guess it had already work cause I saw this in one StartdLog&#58;

09/13/16 12&#58;31&#58;05 Result of reading /etc/issue&#58;  CentOS release 6.8 (Final)

09/13/16 12&#58;31&#58;05 Using IDs&#58; 16 processors, 16 CPUs, 0 HTs
09/13/16 12&#58;31&#58;05 Enumerating interfaces&#58; lo 127.0.0.1 up
09/13/16 12&#58;31&#58;05 Enumerating interfaces&#58; eth0 129.114.76.153 up
09/13/16 12&#58;31&#58;05 Enumerating interfaces&#58; mic0&#58;ib 192.0.2.100 up
09/13/16 12&#58;31&#58;05 Enumerating interfaces&#58; ib0 192.168.76.153 up
09/13/16 12&#58;31&#58;05 Enumerating interfaces&#58; br0 10.15.76.153 up
09/13/16 12&#58;31&#58;05 ******************************************************
09/13/16 12&#58;31&#58;05 ** condor_startd (CONDOR_STARTD) STARTING UP
09/13/16 12&#58;31&#58;05 ** /tmp/glide_W8NBry/main/condor/sbin/condor_startd
09/13/16 12&#58;31&#58;05 ** SubsystemInfo&#58; name=STARTD type=STARTD(7) class=DAEMON(1)
09/13/16 12&#58;31&#58;05 ** Configuration&#58; subsystem&#58;STARTD local&#58;&#60;NONE&#62; class&#58;DAEMON
09/13/16 12&#58;31&#58;05 ** $CondorVersion&#58; 8.4.8 Jun 30 2016 BuildID&#58; 373513 $
09/13/16 12&#58;31&#58;05 ** $CondorPlatform&#58; x86_64_RedHat6 $
09/13/16 12&#58;31&#58;05 ** PID = 119713
09/13/16 12&#58;31&#58;05 ** Log last touched time unavailable (No such file or directory)
09/13/16 12&#58;31&#58;05 ******************************************************
09/13/16 12&#58;31&#58;05 Using config source&#58; /tmp/glide_W8NBry/condor_config
09/13/16 12&#58;31&#58;05 config Macros = 256, Sorted = 256, StringBytes = 15706, TablesBytes = 9256
09/13/16 12&#58;31&#58;05 CLASSAD_CACHING is ENABLED
09/13/16 12&#58;31&#58;05 Daemon Log is logging&#58; D_FULLDEBUG D_ALWAYS D_ERROR
09/13/16 12&#58;31&#58;05 Not using shared port because USE_SHARED_PORT=false
09/13/16 12&#58;31&#58;05 DaemonCore&#58; UDP Command socket not created.
09/13/16 12&#58;31&#58;05 Daemoncore&#58; Listening at &#60;0.0.0.0&#58;58689&#62; on TCP (ReliSock).
09/13/16 12&#58;31&#58;05 DaemonCore&#58; command socket at &#60;129.114.76.153&#58;58689?addrs=129.114.76.153-58689&noUDP&#62;
09/13/16 12&#58;31&#58;05 DaemonCore&#58; private command socket at &#60;129.114.76.153&#58;58689?addrs=129.114.76.153-58689&#62;

So I really believe the problem is the RFC redelegation happening in the GT5 at Stampede. Can Krista change it to a non RFC proxy in FNAL?

Fact OPS, can you get us a  fresh STARTD log with ALL_DEBUG?
<div id='show_1427644556' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1427644556'>
by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020
</div><script type='text/javascript'>
        $('#show_1427644556').click(function() {
            $('#detail_1427644556').slideDown("normal");
            $('#show_1427644556').hide();
            $('#hide_1427644556').show();
        });
        $('#hide_1427644556').click(function() {
            $('#detail_1427644556').slideUp();
            $('#hide_1427644556').hide();
            $('#show_1427644556').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1473953233'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T15:27:13+00:00">Sep 15, 2016 03:27 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1473953233">&nbsp;</a></div><pre>Just to update, CERN IT didn&#39;t bring the hypervisor back today so we have to wait a bit more. I am still waiting for them to reply.

Meanwhile, I have set the COLLECTOR_DEBUG to ALL_DEBUG. Can we do the same on the startd side as well please? (if not already done so)

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1473927252'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-15T08:14:12+00:00">Sep 15, 2016 08:14 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1473927252">&nbsp;</a></div><pre>Hi Edgar,

Sure. CERN frontend should be back today, so I can set the proxy to non RFC. Also, by default the CERN ITB frontend sets glidein condor logs to maximum verbosity, so I hope we may be able to find something useful.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1473891115'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-14T22:11:55+00:00">Sep 14, 2016 10:11 PM UTC</time><a class="anchor" name="1473891115">&nbsp;</a></div><pre>Hi Farrukh,

One more thing that occurred to us that might be the problem is RFC proxies. I am not sure how Stampede&#39;s Gram is delegating the RFC proxy and that might be the source of our frustrations and why we never saw this for Ligo.

Can you do one test for us and use non RFC proxies for Stampede from the ITB frontend?

Thanks,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1473889532'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-14T21:45:32+00:00">Sep 14, 2016 09:45 PM UTC</time><a class="anchor" name="1473889532">&nbsp;</a></div><pre>Hi Farrukh,

I see no difference. Looking at it&#58;

Collector9719Log

09/12/16 17&#58;21&#58;16 Housekeeper&#58;  Done cleaning
09/12/16 17&#58;21&#58;17 CollectorAd  &#58; Inserting ** &#34;&#60; Personal Condor at vocms0115.cern.ch@.... &#62;&#34;
09/12/16 17&#58;22&#58;17 DC_AUTHENTICATE&#58; required authentication of 129.114.88.142 failed&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/12/16 17&#58;25&#58;47 DC_AUTHENTICATE&#58; required authentication of 129.114.88.142 failed&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/12/16 17&#58;31&#58;04 DC_AUTHENTICATE&#58; required authentication of 129.114.88.142 failed&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method

Can you make&#58; COLLECTOR_LOG = ALL_DEBUG, D_SECURITY

I really do not know what is going on.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1473843372'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-14T08:56:12+00:00">Sep 14, 2016 08:56 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1473843372">&nbsp;</a></div><pre>Hi,

Sure, I&#39;ll do that.

It might be worth switching to ALL_DEBUG for the factory entry though. I normally have it set on the CERN frontend machine and it is super useful to weed out authentication failure issues.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1473799756'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-13T20:49:16+00:00">Sep 13, 2016 08:49 PM UTC</time><a class="anchor" name="1473799756">&nbsp;</a></div><pre>Looking at it. It looks good to me. I forgot I do actually have access to the CMS CCB.

I was looking at the Collector9687Log in vocms0115&#58;

And there was this&#58;

09/13/16 19&#58;51&#58;18 Housekeeper&#58;  Done cleaning
09/13/16 19&#58;53&#58;55 DC_AUTHENTICATE&#58; required authentication of 129.114.76.153 failed&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/13/16 19&#58;55&#58;49 DC_AUTHENTICATE&#58; required authentication of 129.114.76.153 failed&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/13/16 19&#58;55&#58;50 DC_AUTHENTICATE&#58; required authentication of 129.114.76.153 failed&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method

Which is from c468-301.stampede.tacc.utexas.edu

I am really bugged about this.

Farrukh, Co,

Can you add in vocms115 something like a /etc/condor/config.d/97-for-stampede-debugging.config

And have in there COLLECTOR_DEBUG = D_SECURITY

And reconfig. I looked at all the configs at it all looks good to me.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1473797894'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-13T20:18:14+00:00">Sep 13, 2016 08:18 PM UTC</time><a class="anchor" name="1473797894">&nbsp;</a></div><pre>As I was at it, here the mapfile I see in the corresponding .err log&#58;

--- condor_mapfile ---
GSI &#34;^&#92;/DC&#92;=ch&#92;/DC&#92;=cern&#92;/OU&#92;=computers&#92;/CN&#92;=vocms0115&#92;.cern&#92;.ch$&#34; collector1
GSI &#34;^&#92;/DC&#92;=org&#92;/DC&#92;=opensciencegrid&#92;/O&#92;=Open&#92; Science&#92; Grid&#92;/OU&#92;=Services&#92;/CN&#92;=cmssrv215&#92;.fnal&#92;.gov$&#34; collector2
GSI &#34;^&#92;/DC&#92;=ch&#92;/DC&#92;=cern&#92;/OU&#92;=computers&#92;/CN&#92;=vocms0340&#92;.cern&#92;.ch$&#34; collector3
GSI &#34;^&#92;/DC&#92;=ch&#92;/DC&#92;=cern&#92;/OU&#92;=computers&#92;/CN&#92;=vocms0341&#92;.cern&#92;.ch$&#34; collector4
GSI &#34;^&#92;/DC&#92;=org&#92;/DC&#92;=opensciencegrid&#92;/O&#92;=Open&#92; Science&#92; Grid&#92;/OU&#92;=Services&#92;/CN&#92;=cmssrv216&#92;.fnal&#92;.gov$&#34; frontend
GSI &#34;^&#92;/DC&#92;=org&#92;/DC&#92;=opensciencegrid&#92;/O&#92;=Open&#92; Science&#92; Grid&#92;/OU&#92;=Services&#92;/CN&#92;=pilot&#92;/cmssrv216&#92;.fnal&#92;.gov&#92;/CN&#92;=2605342904&#92;/CN&#92;=1509129177$&#34; condor
FS tg833915 localuser
GSI (.*) anonymous
FS (.*) anonymous
--- ============== ---

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='29566#1473797070'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-13T20:04:30+00:00">Sep 13, 2016 08:04 PM UTC</time><a class="anchor" name="1473797070">&nbsp;</a></div><pre>Sure, filenames attached include job id and the path on ITB factory is&#58;

/var/log/gwms-factory/client/user_fecmsfnalitb/glidein_gfactory_instance/entry_Ligo_US_Stampede_gt5

My example refers to job.157517.1.*

-Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='29566#1473796607'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-13T19:56:47+00:00">Sep 13, 2016 07:56 PM UTC</time><a class="anchor" name="1473796607">&nbsp;</a></div><pre>Marian,

Can you please point me to the .err or that .out of that glidien. I would like to see the map file it created. ?

Farrukh and Co,

Is the FNAL pilot DN properly registered in cmssrv215.fnal.gov any chance, we can get the CCB condor logs from those? I do not understand why this authentication errors.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1473794481'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-13T19:21:21+00:00">Sep 13, 2016 07:21 PM UTC</time><a class="anchor" name="1473794481">&nbsp;</a></div><pre>Attached is full MasterLog (also auth errors) and StartdLog and StarterLog ... It seems like ending part in StartdLog is the reason of troubles&#58;

09/13/16 12&#58;55&#58;49 Trying to update collector &#60;131.225.205.29&#58;9631&#62;
09/13/16 12&#58;55&#58;49 Attempting to send update via TCP to collector cmssrv215.fnal.gov &#60;131.225.205.29&#58;9631&#62;
09/13/16 12&#58;55&#58;49 SECMAN&#58; required authentication with collector cmssrv215.fnal.gov&#58;9631 failed, so aborting command INVALIDATE_STARTD_ADS.
09/13/16 12&#58;55&#58;49 ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/13/16 12&#58;55&#58;49 Failed to send update to collector cmssrv215.fnal.gov&#58;9631.
09/13/16 12&#58;55&#58;49 Trying to update collector &#60;188.185.165.172&#58;9687&#62;
09/13/16 12&#58;55&#58;49 Attempting to send update via TCP to collector vocms0115.cern.ch &#60;188.185.165.172&#58;9687&#62;
09/13/16 12&#58;55&#58;50 SECMAN&#58; required authentication with collector vocms0115.cern.ch&#58;9687 failed, so aborting command INVALIDATE_STARTD_ADS.
09/13/16 12&#58;55&#58;50 ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/13/16 12&#58;55&#58;50 Failed to send update to collector vocms0115.cern.ch&#58;9687.
09/13/16 12&#58;55&#58;50 startd_exit&#58; Failed to remove file &#39;/tmp/glide_W8NBry/log/.startd_claim_id&#39;
09/13/16 12&#58;55&#58;50 Deleting the StartdHookMgr
09/13/16 12&#58;55&#58;50 All resources are free, exiting.
09/13/16 12&#58;55&#58;50 **** condor_startd (condor_STARTD) pid 119713 EXITING WITH STATUS 0

Does FE authenticate with the pool collector in any way and if so, is the mapping correct?

Moreover there is interesting piece of error in the StarterLog&#58;
09/13/16 12&#58;31&#58;06 (pid&#58;119716) Result of reading /etc/issue&#58;  CentOS release 6.8 (Final)
09/13/16 12&#58;31&#58;06 (pid&#58;119716) Using IDs&#58; 16 processors, 16 CPUs, 0 HTs
09/13/16 12&#58;31&#58;06 (pid&#58;119716) Enumerating interfaces&#58; lo 127.0.0.1 up
09/13/16 12&#58;31&#58;06 (pid&#58;119716) Enumerating interfaces&#58; eth0 129.114.76.153 up
09/13/16 12&#58;31&#58;06 (pid&#58;119716) Enumerating interfaces&#58; mic0&#58;ib 192.0.2.100 up
09/13/16 12&#58;31&#58;06 (pid&#58;119716) Enumerating interfaces&#58; ib0 192.168.76.153 up
09/13/16 12&#58;31&#58;06 (pid&#58;119716) Enumerating interfaces&#58; br0 10.15.76.153 up
09/13/16 12&#58;31&#58;06 (pid&#58;119716) DockerProc&#58;&#58;Detect()
09/13/16 12&#58;31&#58;06 (pid&#58;119716) Attempting to run&#58; &#39;/usr/bin/docker -v&#39;.
09/13/16 12&#58;31&#58;06 (pid&#58;119716) Failed to run &#39;/usr/bin/docker -v&#39;.
09/13/16 12&#58;31&#58;06 (pid&#58;119716) DockerAPI&#58;&#58;detect() failed to detect the Docker version; assuming absent.
09/13/16 12&#58;31&#58;06 (pid&#58;119716) EncryptedMappingDetect&#58; not running as root
09/13/16 12&#58;31&#58;07 (pid&#58;119716) FILETRANSFER&#58; protocol &#34;http&#34; handled by &#34;/tmp/glide_W8NBry/main/condor/libexec/curl_plugin&#34;
09/13/16 12&#58;31&#58;07 (pid&#58;119716) FILETRANSFER&#58; protocol &#34;ftp&#34; handled by &#34;/tmp/glide_W8NBry/main/condor/libexec/curl_plugin&#34;
09/13/16 12&#58;31&#58;07 (pid&#58;119716) FILETRANSFER&#58; protocol &#34;file&#34; handled by &#34;/tmp/glide_W8NBry/main/condor/libexec/curl_plugin&#34;
<div id='show_477405273' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_477405273'>09/13/16 12&#58;31&#58;07 (pid&#58;119716) FILETRANSFER&#58; protocol &#34;data&#34; handled by &#34;/tmp/glide_W8NBry/main/condor/libexec/data_plugin&#34;

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada
</div><script type='text/javascript'>
        $('#show_477405273').click(function() {
            $('#detail_477405273').slideDown("normal");
            $('#show_477405273').hide();
            $('#hide_477405273').show();
        });
        $('#hide_477405273').click(function() {
            $('#detail_477405273').slideUp();
            $('#hide_477405273').hide();
            $('#show_477405273').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1473790366'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-13T18:12:46+00:00">Sep 13, 2016 06:12 PM UTC</time><a class="anchor" name="1473790366">&nbsp;</a></div><pre>has STARTD_DEBUG shed any light?

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1473455594'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-09T21:13:14+00:00">Sep 9, 2016 09:13 PM UTC</time><a class="anchor" name="1473455594">&nbsp;</a></div><pre>Edgar,

At the moment, the FNAL ITB glideins are held with hold reason [1]. Never seen that one before. I&#39;m going to clear them out and see if the hold message goes away.

Marty Kandes
UCSD Glidein Factory Operations

[1]

153936.0   fecmsfnalitb    9/9  21&#58;05 Globus error 129&#58; the standard output/error size is different
153936.1   fecmsfnalitb    9/9  21&#58;05 Globus error 129&#58; the standard output/error size is different
153977.0   fecmsfnalitb    9/9  21&#58;05 Globus error 129&#58; the standard output/error size is different
154017.0   fecmsfnalitb    9/9  21&#58;05 Globus error 129&#58; the standard output/error size is different
154017.1   fecmsfnalitb    9/9  21&#58;05 Globus error 129&#58; the standard output/error size is different

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1473454726'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-09T20:58:46+00:00">Sep 9, 2016 08:58 PM UTC</time><a class="anchor" name="1473454726">&nbsp;</a></div><pre>Awesome Marrty,

Can you get a new Startd Log please?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1473450593'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-09T19:49:53+00:00">Sep 9, 2016 07:49 PM UTC</time><a class="anchor" name="1473450593">&nbsp;</a></div><pre>Edgar,

I&#39;ve added your STARTD_DEBUG attribute to the entry.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1473447386'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-09T18:56:26+00:00">Sep 9, 2016 06:56 PM UTC</time><a class="anchor" name="1473447386">&nbsp;</a></div><pre>Marty, FactOPs,

Can you add this attr to the entry&#58;

STARTD_DEBUG = D_FULLDEBUG, D_SECURITY

So something like&#58;

&#60;attr name=&#34;STARTD_DEBUG&#34; const=&#34;False&#34; glidein_publish=&#34;True&#34; job_publish=&#34;False&#34; parameter=&#34;True&#34; publish=&#34;True&#34; type=&#34;string&#34; value=&#34;D_FULLDEBUG, D_SECURITY&#34;/&#62;

So we can get more meaningful logs.

My guess is the FNAL pilot DN is not in the condor mapfile in cmssrv215.fnal.gov or in vocms0115.cern.ch or in vocms0341.cern.ch  vocms0340.cern.ch. But we will need more verbose debugging for that.

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1473375314'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-08T22:55:14+00:00">Sep 8, 2016 10:55 PM UTC</time><a class="anchor" name="1473375314">&nbsp;</a></div><pre>Bo et al.,

We&#39;re now seeing the glideins from the FNAL ITB frontend run at Stampede. However, in their startd logs, it looks like they are unable to authenticate and connect back to the CMS frontend [1]. This is the proxy [2] under which the latest glideins are submitted and running.

Marty Kandes
UCSD Glidein Factory Operations

[1]

09/08/16 16&#58;46&#58;41 (pid&#58;18547) SECMAN&#58; required authentication with collector cmssrv215.fnal.gov&#58;9655 failed, so aborting command UPDATE_STARTD_AD.
09/08/16 16&#58;46&#58;41 (pid&#58;18547) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/08/16 16&#58;46&#58;41 (pid&#58;18547) Failed to start non-blocking update to &#60;131.225.205.29&#58;9655&#62;.
09/08/16 16&#58;46&#58;41 (pid&#58;18547) SECMAN&#58; required authentication with collector vocms0115.cern.ch&#58;9655 failed, so aborting command UPDATE_STARTD_AD.
09/08/16 16&#58;46&#58;41 (pid&#58;18547) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/08/16 16&#58;46&#58;41 (pid&#58;18547) Failed to start non-blocking update to &#60;188.185.165.172&#58;9655&#62;.
09/08/16 16&#58;47&#58;09 (pid&#58;18547) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9633 failed, so aborting command CCB_REGISTER.
09/08/16 16&#58;47&#58;09 (pid&#58;18547) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/08/16 16&#58;47&#58;09 (pid&#58;18547) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9633 failed; will try to reconnect in 60 seconds.
09/08/16 16&#58;47&#58;09 (pid&#58;18547) SECMAN&#58; required authentication with collector vocms0340.cern.ch&#58;9633 failed, so aborting command CCB_REGISTER.
09/08/16 16&#58;47&#58;09 (pid&#58;18547) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
09/08/16 16&#58;47&#58;09 (pid&#58;18547) CCBListener&#58; connection to CCB server vocms0340.cern.ch&#58;9633 failed; will try to reconnect in 60 seconds.

[2]

ubject   &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/cmssrv216.fnal.gov/CN=4154932282
issuer    &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/cmssrv216.fnal.gov
identity  &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/cmssrv216.fnal.gov
type      &#58; RFC compliant proxy
strength  &#58; 1024 bits
path      &#58; /var/lib/gwms-factory/client-proxies/user_fecmsfnalitb/glidein_gfactory_instance/credential_cmssrv216-fnal-gov_CMS_gWMSFrontend.opportunistic_conservative_195998
timeleft  &#58; 983&#58;05&#58;57
key usage &#58; Digital Signature, Key Encipherment, Data Encipherment
=== VO cms extension information ===
VO        &#58; cms
subject   &#58; /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/cmssrv216.fnal.gov
<div id='show_2036982075' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_2036982075'>issuer    &#58; /DC=ch/DC=cern/OU=computers/CN=lcg-voms2.cern.ch
attribute &#58; /cms/Role=pilot/Capability=NULL
attribute &#58; /cms/Role=NULL/Capability=NULL
attribute &#58; /cms/escms/Role=NULL/Capability=NULL
attribute &#58; /cms/local/Role=NULL/Capability=NULL
timeleft  &#58; 176&#58;05&#58;57
uri       &#58; lcg-voms2.cern.ch&#58;15002

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_2036982075').click(function() {
            $('#detail_2036982075').slideDown("normal");
            $('#show_2036982075').hide();
            $('#hide_2036982075').show();
        });
        $('#hide_2036982075').click(function() {
            $('#detail_2036982075').slideUp();
            $('#hide_2036982075').hide();
            $('#show_2036982075').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1473358975'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-08T18:22:55+00:00">Sep 8, 2016 06:22 PM UTC</time><a class="anchor" name="1473358975">&nbsp;</a></div><pre>XSEDE folks came through and the DN is added (thanks Mats!)

I now see /DC=org/DC=opensciencegrid/O=open Science Grid/OU=Services/CN=pilot/cmssrv216.fnal.gov associated with my XSEDE account.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1473355411'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-08T17:23:31+00:00">Sep 8, 2016 05:23 PM UTC</time><a class="anchor" name="1473355411">&nbsp;</a></div><pre>Bo, Farrukh,

Okay, let us know when there is some movement from either CERN or XSEDE. I doubt the glideins from the FNAL ITB factory going held are impacting the allocation&#39;s SUs. So I&#39;ll just leave the factory configuration as is. But if you see that they are draining SUs for some reason, I can remove CMS from the GLIDEIN_Supported_VOs list.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1473331573'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-08T10:46:13+00:00">Sep 8, 2016 10:46 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1473331573">&nbsp;</a></div><pre>Some machines (including ours) in the CERN data center are affected by a faulty power distribution panel. They are planning an intervention on September 15. Before then we won&#39;t have our node back.

So I guess we have to wait on both sides as to whatever gets resolved first. We can only proceed if either the DN gets added or the node comes back.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1473295165'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-08T00:39:25+00:00">Sep 8, 2016 12:39 AM UTC</time><a class="anchor" name="1473295165">&nbsp;</a></div><pre>Well, there&#39;s no movement on the XSEDE ticket to add the DN for cmssrv216 yet. If I&#39;m understanding correctly, the options are to get that DN added (which is out of our control at the moment) or wait for the CMS ITB frontend to come back?

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1473294509'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-08T00:28:29+00:00">Sep 8, 2016 12:28 AM UTC</time><a class="anchor" name="1473294509">&nbsp;</a></div><pre>Bo,

Let us know what you want to do. We also have MINOS from the Fermilab VO currently testing submission to Stampede. So if it is easier for CMS to wait from CERN ITB frontend to come back online, we have another VO testing submission right now as well.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1473081972'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-05T13:26:12+00:00">Sep 5, 2016 01:26 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1473081972">&nbsp;</a></div><pre>Hi all,

The failover frontend has a different certificate by design to provide redundancy in case of expired certs. We can either link the FNAL cert to Bo&#39;s account or wait for the CERN FE to come back.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1472838428'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-02T17:47:08+00:00">Sep 2, 2016 05:47 PM UTC</time><a class="anchor" name="1472838428">&nbsp;</a></div><pre>I have opened an XSEDE ticket to get Bo&#39;s new DN accepted.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1472833886'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-02T16:31:26+00:00">Sep 2, 2016 04:31 PM UTC</time><a class="anchor" name="1472833886">&nbsp;</a></div><pre>Good catch Marty,

The fallover frontend should use the same pilot DN. This looks like a config problem.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1472833113'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-02T16:18:33+00:00">Sep 2, 2016 04:18 PM UTC</time><a class="anchor" name="1472833113">&nbsp;</a></div><pre>Bo (cc Edgar),

I would assume that the DN [1] is a-okay for the CMS CERN ITB frontend. Unfortunately, I don&#39;t have an actual copy of a pilot DN for the CMS CERN ITB frontend on the factory right now. It&#39;s probably been rotated out since it crashed the other day. But as Farrukh pointed out, the CMS FNAL ITB frontend probably started trying to submit to Stampede because it serves as a fail-over for the CMS CERN ITB frontend. However, it is currently attempting to submit glideins under the DN [2].

And yes, MINOS is the experiment. They contacted us about glidein submission to Stampede the other day. I assumed they were also going through XSEDE. So maybe they will have to get the TACC admins to drop in the correct DN to the GRAM-CE manually.

Marty Kandes
UCSD Glidein Factory Operations

[1]

/DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch

[2]

/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/cmssrv216.fnal.gov/CN=973782218

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1472832200'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-02T16:03:20+00:00">Sep 2, 2016 04:03 PM UTC</time><a class="anchor" name="1472832200">&nbsp;</a></div><pre>Hi Marty,

Yep only the pilot DN should be registered in the XSEDE portal. Is the only DN that the gram 5 see. And if this would not be working we would not see glideins getting all the way to the worker node and failling to wget the Frontend.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1472832106'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-02T16:01:46+00:00">Sep 2, 2016 04:01 PM UTC</time><a class="anchor" name="1472832106">&nbsp;</a></div><pre>Hi Marty,

For XSEDE allocations, the XSEDE portal allows users (PIs) to login and set associated DNs. The one I see right now is&#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch

Should that be different?

I believe that the Fermilab experiment in question is MINOS and they are *not* going through XSEDE so they need to do this via logging in on the TACC portal (which should have something similar to XSEDE).

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1472831757'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-02T15:55:57+00:00">Sep 2, 2016 03:55 PM UTC</time><a class="anchor" name="1472831757">&nbsp;</a></div><pre>Farrukh,

Thanks for the update. I haven&#39;t had to register the DN(s) with XSEDE before myself. I think Edgar told me its actually both the pilot and issuer DN that needs to be registered to get everything working correctly.

Bo, Edgar,

Can you clarify the process for registering the DN(s) with XSEDE? I also have a Fermilab VO experiment trying to get setup to submit to Stampede, but it is having the same authentication issue as the CMS FNAL ITB frontend right now

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1472806752'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-02T08:59:12+00:00">Sep 2, 2016 08:59 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1472806752">&nbsp;</a></div><pre>Hi Marty,

Our CERN frontend VM node crashed yesterday night (CEST time) and is now stuck in &#39;ERROR&#39; state.

I am working with CERN IT to have it up and running. That is why you see the back up FE kicking in and the wget failing.

About the DN, I thought you just needed the proxy issuer DN, not necessarily the subject? The CERN FE also changes the proxy subject after every proxy renewal and we have&#39;t seen this issue with the CERN FE.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1472766876'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-01T21:54:36+00:00">Sep 1, 2016 09:54 PM UTC</time><a class="anchor" name="1472766876">&nbsp;</a></div><pre>Hi Marian,

As I commented yesterday, that wget command works fine from a Stampede worker node. Or am I missing something?

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1472766320'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-01T21:45:20+00:00">Sep 1, 2016 09:45 PM UTC</time><a class="anchor" name="1472766320">&nbsp;</a></div><pre>Krista,

Are you (or someone you know) requesting glideins at Stampede from the CMS ITB Frontend @ FNAL [1]? I&#39;m observing the glideins from this frontend go held with the hold reason [2]. If I had to guess, as long as the frontend is configured to support passing the XSEDE project ID, I would imagine that the issue here is likely due to not having registered the glidein/pilot DN with XSEDE. Hmmm, doesn&#39;t that CN# attached to the DN for the RFC proxy update regularly? This could be messy ...

Marty Kandes
UCSD Glidein Factory Operations

[1]

/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=cmssrv216.fnal.gov

[2]

151080.4   fecmsfnalitb    9/1  18&#58;30 Globus error 7&#58; authentication with the remote server failed
151101.4   fecmsfnalitb    9/1  20&#58;14 Globus error 7&#58; authentication with the remote server failed

[3]

/DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=pilot/cmssrv216.fnal.gov/CN=1072703631

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1472765772'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-09-01T21:36:12+00:00">Sep 1, 2016 09:36 PM UTC</time><a class="anchor" name="1472765772">&nbsp;</a></div><pre>Farrukh,

The latest batch of glideins failed validation because they were unable to reach the ITB frontend with a wget [1]. I was not able to reach this file from anywhere. Can you check and make sure httpd is up and running?

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

[1]

Validation failed in wget.

Failed to load file &#39;description.g8ufGw.cfg&#39; from &#39;<a href='http&#58;//vocms057.cern.ch/vofrontend/stage&#39' target='_blank' rel='nofollow'>http&#58;//vocms057.cern.ch/vofrontend/stage&#39</a>;.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1472659332'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T16:02:12+00:00">Aug 31, 2016 04:02 PM UTC</time> by <b>marian.zvada@....</b><a class="anchor" name="1472659332">&nbsp;</a></div><pre>Hi Edgar,

yeah, we&#39;ve discussed this on today&#39;s meeting. While we don&#39;t have
conclusive answer about the real issue yet you can definitely have a
look at logs as well if you want, it&#39;s entry Ligo_US_Stampede_gt5&#58;

/var/lib/gwms-factory/work-dir/client_log/user_fecmsglobalitb/entry_Ligo_US_Stampede_gt5/

-Marian

On 8/31/16 10&#58;31 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='29566#1472657497'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T15:31:37+00:00">Aug 31, 2016 03:31 PM UTC</time><a class="anchor" name="1472657497">&nbsp;</a></div><pre>Marian, Marty,

Can we get some more logs? I have seen this&#58;

$X509_CADIR ()
grid-proxy-init command not found in path!
voms-proxy-init command not found in path!
Not all x509 commands found in path (2 missing)!

Just a red herring. I have access to the ITB factory can you point me to some paths of the logs?

Thanks,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1472654558'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T14:42:38+00:00">Aug 31, 2016 02:42 PM UTC</time><a class="anchor" name="1472654558">&nbsp;</a></div><pre>Hi Marian,

The wget ran just fine&#58;

c458-402.stampede(3)$ wget <a href='http&#58;//glidein-itb.grid.iu.edu/factory/stage/entry_Ligo_US_Stampede_gt5/description.g8qk8q.cfg' target='_blank' rel='nofollow'>http&#58;//glidein-itb.grid.iu.edu/factory/stage/entry_Ligo_US_Stampede_gt5/description.g8qk8q.cfg</a>
--2016-08-31 09&#58;41&#58;28--  <a href='http&#58;//glidein-itb.grid.iu.edu/factory/stage/entry_Ligo_US_Stampede_gt5/description.g8qk8q.cfg' target='_blank' rel='nofollow'>http&#58;//glidein-itb.grid.iu.edu/factory/stage/entry_Ligo_US_Stampede_gt5/description.g8qk8q.cfg</a>
Resolving glidein-itb.grid.iu.edu... 129.79.53.24, 2001&#58;18e8&#58;2&#58;6&#58;&#58;13c
Connecting to glidein-itb.grid.iu.edu|129.79.53.24|&#58;80... connected.
HTTP request sent, awaiting response... 200 OK
Length&#58; 98 [text/plain]
Saving to&#58; description.g8qk8q.cfg

100%[========================================================================&#62;] 98          --.-K/s   in 0s

2016-08-31 09&#58;41&#58;29 (20.6 MB/s) - description.g8qk8q.cfg saved [98/98]

-Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1472654476'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-31T14:41:16+00:00">Aug 31, 2016 02:41 PM UTC</time> by <b>ajit@....</b><a class="anchor" name="1472654476">&nbsp;</a></div><pre>Hi Marian,

Thanks for the note. I don&#39;t have access to the site/nodes. So, I won&#39;t be able to do much about that. I would let Farrukh and Jeff/Marty to take a look at things in the ITB frontend and factory side of things respectively.

Cheers,
- Ajit

On 08/30/2016 04&#58;29 PM, Open Science Grid FootPrints wrote&#58;
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='29566#1472592557'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-30T21:29:17+00:00">Aug 30, 2016 09:29 PM UTC</time> by <b>marian.zvada@....</b><a class="anchor" name="1472592557">&nbsp;</a></div><pre>Hi Ajit,

being on the shift I took a look and there seem to be follow issue&#58;

150364.0   fefermifife     8/30 18&#58;52 Globus error 7&#58; authentication
with the remote server failed
=&#62; that&#39;s for fefermifife glideins

There are also glideins  requested from Frontend fecmsglobalitb, it
seems, they get through through the CE but fail with error&#58;

&#60;detail&#62;
Validation failed in fetch_file_base.
&#60;/detail&#62;

This is one issue - it looks like, for some reason, that
description.g8qk8q.cfg file is either not being properly fetched, or not
being properly put into the right location. Could someone try from the
worker node do the the following and see if it works?

$ wget
<a href='http&#58;//glidein-itb.grid.iu.edu/factory/stage/entry_Ligo_US_Stampede_gt5/description.g8qk8q.cfg' target='_blank' rel='nofollow'>http&#58;//glidein-itb.grid.iu.edu/factory/stage/entry_Ligo_US_Stampede_gt5/description.g8qk8q.cfg</a>

Looking at .err log I see second part of the problem&#58;
&#34;&#34;&#34;
WARNING - Could not find CA certificates!
Looked in&#58;
$X509_CERT_DIR ()
$HOME/.globus/certificates/
(/home1/04092/tg833915/.globus/certificates/)
/etc/grid-security/certificates/
$GLOBUS_LOCATION/share/certificates/
(/opt/apps/xsede/gram5-5.2.3/share/certificates/)
$X509_CADIR ()
grid-proxy-init command not found in path!
<div id='show_87502394' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_87502394'>voms-proxy-init command not found in path!
Not all x509 commands found in path (2 missing)!
&#34;&#34;&#34;

Examples which nodes return that&#58;
c533-303.stampede.tacc.utexas.edu
c536-902.stampede.tacc.utexas.edu
c457-301.stampede.tacc.utexas.edu
c404-804.stampede.tacc.utexas.edu
c408-901.stampede.tacc.utexas.edu
c474-201.stampede.tacc.utexas.edu

Could you have a look at those issues at the site level, please?

-Marian

On 8/30/16 9&#58;20 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font>
</div><script type='text/javascript'>
        $('#show_87502394').click(function() {
            $('#detail_87502394').slideDown("normal");
            $('#show_87502394').hide();
            $('#hide_87502394').show();
        });
        $('#hide_87502394').click(function() {
            $('#detail_87502394').slideUp();
            $('#hide_87502394').hide();
            $('#show_87502394').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1472566813'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-30T14:20:13+00:00">Aug 30, 2016 02:20 PM UTC</time> by <b>ajit@....</b><a class="anchor" name="1472566813">&nbsp;</a></div><pre>Hi Marty,

I assigned/submitted a test wf with 10 jobs to T3_US_TACC (Stampede) yesterday. The jobs are still pending on the WMAgents side it appears. This means either pilots are not getting requested by ITB frontend or pilot validation is failing at the site. So I will handover to Farrukh and you/Jeff to look at the frontend and factory side of things respectively.

Thanks,
- Ajit



On 08/26/2016 12&#58;33 PM, Open Science Grid FootPrints wrote&#58;
[Duplicate message snipped]</pre></div><div class='update_description'><i onclick="document.location='29566#1472232916'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-26T17:35:16+00:00">Aug 26, 2016 05:35 PM UTC</time> by <b>rynge@....</b><a class="anchor" name="1472232916">&nbsp;</a></div><pre>I am on vacation until September 1.

If you have questions regarding the Open Science Grid or OSG as an XSEDE resource provider, please contact OSG User Support at user-support@....

If you have something urgent regarding XSEDE ECSS, please contact the ECSS workflows group at ecss-workflows@....

If you have something urgent regarding Pegasus, please contact Karan Vahi at vahi@....</pre></div><div class='update_description'><i onclick="document.location='29566#1472232781'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-26T17:33:01+00:00">Aug 26, 2016 05:33 PM UTC</time><a class="anchor" name="1472232781">&nbsp;</a></div><pre>Hi all,

I had no noticeable issues successfully running some simple sleep test jobs on glideins with the new globus-included condor tarballs at CMSHTPC_T2_US_UCSD_gw6. Let us know when there are some test jobs from the CMS frontend at Stampede for us to check on.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1472161943'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-25T21:52:23+00:00">Aug 25, 2016 09:52 PM UTC</time><a class="anchor" name="1472161943">&nbsp;</a></div><pre>Edgar,

I am also going to test the tarballs via glideins submitted to CMSHTPC_T2_US_UCSD_gw6 from the GOC-ITB factory as well.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1472143653'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-25T16:47:33+00:00">Aug 25, 2016 04:47 PM UTC</time><a class="anchor" name="1472143653">&nbsp;</a></div><pre>Ajit added.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1472142430'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-25T16:27:10+00:00">Aug 25, 2016 04:27 PM UTC</time><a class="anchor" name="1472142430">&nbsp;</a></div><pre>Farrukh,
Can you submit even a sleep job, so we know the libraries fix in the tarball is working?

Thanks,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1472139672'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-25T15:41:12+00:00">Aug 25, 2016 03:41 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1472139672">&nbsp;</a></div><pre>Hi Marty,

I do not have permissions to modify the ticket (since I do not have an OSG account). Can you please add Ajit (ajit.kumar.mohapatra@....) to the ticket too?

He is also working on integrating opportunistic resources into the CMS global pool so he can submit some work to the ITB for testing. I already asked him during our weekly meeting today, so he&#39;ll submit some workflows soon.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1472079355'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-24T22:55:55+00:00">Aug 24, 2016 10:55 PM UTC</time><a class="anchor" name="1472079355">&nbsp;</a></div><pre>Bo, Edgar, Farrukh,

I&#39;ve applied a patch supplied by the glideinWMS team (see <a href='https&#58;//cdcvs.fnal.gov/redmine/issues/13594' target='_blank' rel='nofollow'>https&#58;//cdcvs.fnal.gov/redmine/issues/13594</a>) to the GOC-ITB factory and created a special glidein condor tarball &#34;8.4.8-globusincl&#34; to test this new variant of the stripped down condor tarballs. In addition, I&#39;ve reenable the entry for Stampede on the GOC-ITB factory and set the attribute CONDOR_VERSION = &#34;8.4.8-globusincl&#34;. Please go ahead and begin testing again. I&#39;ll check back in tomorrow to see if there has been any progress from test jobs that may already be waiting in the queue.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1471371407'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-16T18:16:47+00:00">Aug 16, 2016 06:16 PM UTC</time><a class="anchor" name="1471371407">&nbsp;</a></div><pre>Jeff,

Was going to add a script at the entry to hack the LD_LIBRARY_PATH like this&#58;

export LD_LIBRARY_PATH=/scratch/projects/xsede/globus-6.0/lib64&#58;$LD_LIBRARY_PATH

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1471021486'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-12T17:04:46+00:00">Aug 12, 2016 05:04 PM UTC</time><a class="anchor" name="1471021486">&nbsp;</a></div><pre>Hi Elizabeth,

I think we&#39;re in a holding pattern on this one for now. A workaround for the missing libglobus_common.so.0 library is in the works.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1470951172'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-11T21:32:52+00:00">Aug 11, 2016 09:32 PM UTC</time> by <b>echism</b><a class="anchor" name="1470951172">&nbsp;</a></div><pre>Is there anything new on this?

Thank you,
Elizabeth</pre></div><div class='update_description'><i onclick="document.location='29566#1470777553'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-09T21:19:13+00:00">Aug 9, 2016 09:19 PM UTC</time><a class="anchor" name="1470777553">&nbsp;</a></div><pre>Hi Marian,

If we&#39;re ready to test again we should go ahead and re-enable. Just be wary of pilots running for long periods of time without them doing anything since it uses up the test allocation.

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1470777334'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-09T21:15:34+00:00">Aug 9, 2016 09:15 PM UTC</time><a class="anchor" name="1470777334">&nbsp;</a></div><pre>Edgar, all, we seem to have also on production factories same tar ball shipped to the sites. I.e. it doesn&#39;t contain libglobus_common.so.0. We&#39;ll have a meeting tomorrow discuss this further.
Also, I see this entry point disabled so currently we don&#39;t have any chance to test anything there. Bo, could we reopen the entry?

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='29566#1470690650'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-08T21:10:50+00:00">Aug 8, 2016 09:10 PM UTC</time> by <b>echism</b><a class="anchor" name="1470690650">&nbsp;</a></div><pre>Factory Ops,

Any thoughts on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='29566#1470241462'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-03T16:24:22+00:00">Aug 3, 2016 04:24 PM UTC</time><a class="anchor" name="1470241462">&nbsp;</a></div><pre>Hi Jeff, Fact Ops,

I logged in into the ITB Factory. Looked at the condor 8.4.6 tarball&#58;

gfactory-3.2.12-0.5.rc5-condor-8.4.6-x86_64_RedHat6-stripped.tar.gz

And I don&#39;t see&#58; libglobus_common.so.0

sbin/condor_master
sbin/condor_startd
sbin/condor_starter
sbin/condor_procd
sbin/condor_fetchlog
sbin/condor_advertise
lib/condor_ssh_to_job_sshd_config_template
lib/CondorJavaInfo.class
lib/CondorJavaWrapper.class
lib/scimark2lib.jar
libexec/glexec_starter_setup.sh
libexec/condor_glexec_wrapper
libexec/condor_glexec_cleanup
libexec/condor_glexec_job_wrapper
libexec/condor_glexec_kill
libexec/condor_glexec_run
libexec/condor_glexec_update_proxy
libexec/condor_glexec_setup
libexec/condor_shared_port
libexec/condor_ssh_to_job_sshd_setup
libexec/condor_ssh_to_job_shell_setup
libexec/condor_kflops
libexec/condor_mips
libexec/curl_plugin
libexec/data_plugin
libexec/condor_chirp
libexec/condor_gpu_discovery
<div id='show_279533277' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_279533277'>lib/libcondor_utils_8_4_6.so
lib/libclassad.so.7
lib/condor/liblber-2.4.so.2
lib/condor/libldap-2.4.so.2
lib/condor/libpcre.so.0
lib/libclassad.so.8.4.6

However the tarball from Madison does include it&#58;

condor-8.4.8-x86_RedHat6-stripped/lib/condor/libglobus_common.so.0

Could this be a bug in the tarball code that creates it, and we have been just lucky in the rest of the site that those libraries have been available in the LD_LIBRARY_PATH?

edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020
</div><script type='text/javascript'>
        $('#show_279533277').click(function() {
            $('#detail_279533277').slideDown("normal");
            $('#show_279533277').hide();
            $('#hide_279533277').show();
        });
        $('#hide_279533277').click(function() {
            $('#detail_279533277').slideUp();
            $('#hide_279533277').hide();
            $('#show_279533277').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1470081555'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-01T19:59:15+00:00">Aug 1, 2016 07:59 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1470081555">&nbsp;</a></div><pre>Hi Jeff,

We are requesting 8.4.6.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1470079264'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-01T19:21:04+00:00">Aug 1, 2016 07:21 PM UTC</time><a class="anchor" name="1470079264">&nbsp;</a></div><pre>This doesn&#39;t make sense though,

First, we didn&#39;t have this problem before.

Second, the condor tarballs are supposed to bring over all the globus libs they need with them, we can&#39;t assume they will be at a site on the WNs, think of pilots running in Europe for example.

Farrukh, what version of condor is CMS requesting?  Maybe we have a problem with the tarballs.
Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='29566#1470065355'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-01T15:29:15+00:00">Aug 1, 2016 03:29 PM UTC</time><a class="anchor" name="1470065355">&nbsp;</a></div><pre>Factory Ops,

What do you think? Could we do it in the entry part?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1470039610'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-08-01T08:20:10+00:00">Aug 1, 2016 08:20 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1470039610">&nbsp;</a></div><pre>Hi all,

Since this is site specific, can we add this to the factory entry instead? I vaguely recall Jeff mentioning that anything specific to the factory entries should be added directly to the factory instead of going to the frontend since a single frontend group might point to multiple entries.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1469666520'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-28T00:42:00+00:00">Jul 28, 2016 12:42 AM UTC</time><a class="anchor" name="1469666520">&nbsp;</a></div><pre>Marty,

disabled the entry

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1469665883'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-28T00:31:23+00:00">Jul 28, 2016 12:31 AM UTC</time><a class="anchor" name="1469665883">&nbsp;</a></div><pre>Can we also not send any glideins until Farrukh tries making this change? they are currently burning through the allocation in the meanwhile.

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1469654808'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-27T21:26:48+00:00">Jul 27, 2016 09:26 PM UTC</time><a class="anchor" name="1469654808">&nbsp;</a></div><pre>Hi Marty,

Normally they are found here&#58;

/usr/lib64/libglobus_common.so.0

And my guess is that suddenly in Stampede they are no longer there. Or the LD_LIBRARY_PATH is not correctly set up. Whichever way the best thing is to assume they are not there.

Farrukh,

Can you add a start up script to the Frontend like this, so the env variable LD_LIBRARY_PATH is modified before starting the STARTD. So it takes it from CVMFS.

CVMFS_WN_PATH=/cvmfs/oasis.opensciencegrid.org/osg-software/osg-wn-client/3.3/current/el6-x86_64
export LD_LIBRARY_PATH=$CVMFS_WN_PATH/usr/lib64/&#58;$LD_LIBRARY_PATH

Thanks,

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1469654599'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-27T21:23:19+00:00">Jul 27, 2016 09:23 PM UTC</time><a class="anchor" name="1469654599">&nbsp;</a></div><pre>Hi Marty,

I see a running job under my account which can only be one of those glideins. I can ssh into the node that&#39;s running it as well.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1469654268'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-27T21:17:48+00:00">Jul 27, 2016 09:17 PM UTC</time><a class="anchor" name="1469654268">&nbsp;</a></div><pre>Hi all,

I&#39;ve attached a recent StartdLog from the glideins that appear to be landing at Stampede. Is the problem maybe that the glideins cannot find GSI libraries at Stampede? e.g., see [1]. Also, if someone currently has direct access to Stampede, can you let us know if you see these glideins landing in the SLURM queue?

Thanks,

Marty Kandes
UCSD Glidein Factory Operations

[1]

07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_SECURITY) SECMAN&#58; new session, doing initial authentication.
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_SECURITY) SECMAN&#58; Auth methods&#58; GSI
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_SECURITY) AUTHENTICATE&#58; setting timeout for &#60;131.225.205.29&#58;9664&#62; to 20.
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_SECURITY) HANDSHAKE&#58; in handshake(my_methods = &#39;GSI&#39;)
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_SECURITY) HANDSHAKE&#58; handshake() - i am the client
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_SECURITY) HANDSHAKE&#58; excluding GSI&#58; Failed to open GSI libraries&#58; libglobus_common.so.0&#58; cannot open shared object file&#58; No such file or directory
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_SECURITY) HANDSHAKE&#58; sending (methods == 0) to server
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_NETWORK) condor_write(fd=7 collector cmssrv215.fnal.gov&#58;9664,,size=13,timeout=20,flags=0,non_blocking=0)
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_NETWORK) condor_read(fd=7 collector cmssrv215.fnal.gov&#58;9664,,size=5,timeout=20,flags=0,non_blocking=0)
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_NETWORK) condor_read(fd=7 collector cmssrv215.fnal.gov&#58;9664,,size=8,timeout=20,flags=0,non_blocking=0)
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_SECURITY) HANDSHAKE&#58; server replied (method = 0)
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_ALWAYS) SECMAN&#58; required authentication with collector cmssrv215.fnal.gov&#58;9664 failed, so aborting command UPDATE_STARTD_AD.
07/27/16 12&#58;04&#58;22 (fd&#58;10) (pid&#58;66266) (D_ALWAYS) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1469573814'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-26T22:56:54+00:00">Jul 26, 2016 10:56 PM UTC</time><a class="anchor" name="1469573814">&nbsp;</a></div><pre>Hi,

that&#39;s what I noticed last week, too - I haven&#39;t seen anything complete nor any logs. The Factory tool command you can use from ITB Factory is &#96;entry_ls -fo Ligo_US_Stampede_gt5  fecmsglobalitb 20160725&#96;. I&#39;ve checked also previous days than July 25th, no .out nor .err glidein files. I&#39;ll try to check on the Factory schedd Logs tomorrow and investigate some sign of the glidein route when factory created it.

-Marian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=zvada/CN=684832/CN=Marian Zvada</pre></div><div class='update_description'><i onclick="document.location='29566#1469225000'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-22T22:03:20+00:00">Jul 22, 2016 10:03 PM UTC</time><a class="anchor" name="1469225000">&nbsp;</a></div><pre>Hi All,

I looked at it today. There is one glidein pending&#58;

entry_q Ligo_US_Stampede_gt5

-- Schedd&#58; schedd_glideins5@.... &#58; &#60;129.79.53.24&#58;41706?...
ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD
141851.0   fecmsglobalitb  7/22 19&#58;33   0+00&#58;00&#58;00 I  0   0.1  glidein_startup.sh

1 jobs; 0 completed, 0 removed, 1 idle, 0 running, 0 held, 0 suspended

So not much we can do.

But the weird thing is the condor_history did not do show anything lately, I will need fact ops to show me the magic to get glidein that might have run yesterday.

2016-07-22 21&#58;55&#58;28 UTC [gfactory@glidein-itb&#58;~]$ condor_history -name  schedd_glideins5@.... -const &#39;GlideinEntryName =?= &#34;Ligo_US_Stampede_gt5&#34; && GlideinFrontendName =?= &#34;CMSG-ITB_gWMSFrontend-v1_0&#58;cmspilot&#34;&#39;
ID     OWNER          SUBMITTED   RUN_TIME     ST COMPLETED   CMD

Edgar
OSG Software Support

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1469083635'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-21T06:47:15+00:00">Jul 21, 2016 06:47 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1469083635">&nbsp;</a></div><pre>Thanks for looking Marian! Our proxies are three days long and are renewed everyday, so I am at a loss to explain how the proxy expired. I have double checked the proxies again on the frontend, and they are okay. Let&#39;s wait for new glideins now and see how it goes.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1469053031'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-20T22:17:11+00:00">Jul 20, 2016 10:17 PM UTC</time> by <b>marian.zvada@....</b><a class="anchor" name="1469053031">&nbsp;</a></div><pre>Hi,

I&#39;ve looked at this - it seems that CE end point is
login5.stampede.tacc.utexas.edu and this is still not comissioned entry
in production factories but only on ITB instance...

I&#39;ve checked what&#39;s in the queue, there are few held glideins currently
but one held with status&#58;

ID        OWNER          HELD_SINCE  HOLD_REASON

139822.0   fecmsglobalitb  7/20 22&#58;06 Globus error 131&#58; the user proxy
expired (job is still running)

Please, make sure from Frontend side send jobs with renewed proxy. I
removed all current glideins in this entry rule out any possible zombies
presence and see how it goes. Also, I didn&#39;t see anything completed yet
so no real logs so far we can provide.

-Marian
(OSG gWMS Factory Ops)

On 7/19/16 8&#58;36 AM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='29566#1468935363'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-19T13:36:03+00:00">Jul 19, 2016 01:36 PM UTC</time><a class="anchor" name="1468935363">&nbsp;</a></div><pre>Hi Factory Ops,

We need a recent StartdLog from CMS to debug this. Can you provide one please?

Thanks,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1468918931'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-19T09:02:11+00:00">Jul 19, 2016 09:02 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1468918931">&nbsp;</a></div><pre>Hi all,

These aren&#39;t just CCB authentication failures. The glideins are failing authentication with all our central infrastructure nodes i.e. both central managers and both CCBs. We have been running normal workflows and tests through the testbed, so I am inclined to say that there is still an issue on the site side with respect to certificates.

Can someone dig up a recent pilot log? I need to know the port numbers where the authentication fails and then I can take a look on the central manager side. Meanwhile, I am going to increase the log verbosity centrally (both collector and startd) so that we have more information in these pilot logs.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1468440366'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-13T20:06:06+00:00">Jul 13, 2016 08:06 PM UTC</time><a class="anchor" name="1468440366">&nbsp;</a></div><pre>Hi Elizabeth,

We are waiting on Farrukh to come back from holdays to look back in the CCB logs what is the origin of the authentication issues.

Edgar
OSG Software Support

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1468439914'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-13T19:58:34+00:00">Jul 13, 2016 07:58 PM UTC</time> by <b>echism</b><a class="anchor" name="1468439914">&nbsp;</a></div><pre>Hello all,

Has there been any progress on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='29566#1467922787'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T20:19:47+00:00">Jul 7, 2016 08:19 PM UTC</time><a class="anchor" name="1467922787">&nbsp;</a></div><pre>Elizabeth et al.,

No change. Glideins begin running, but appear to be unable to properly authenticate back to the CMS frontend [1].

Marty Kandes
UCSD Glidein Factory Operations

[1]

07/07/16 14&#58;15&#58;47 (pid&#58;87066) SECMAN&#58; required authentication with collector cmssrv215.fnal.gov&#58;9647 failed, so aborting command UPDATE_STARTD_AD.
07/07/16 14&#58;15&#58;47 (pid&#58;87066) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/07/16 14&#58;15&#58;47 (pid&#58;87066) Failed to start non-blocking update to &#60;131.225.205.29&#58;9647&#62;.
07/07/16 14&#58;15&#58;47 (pid&#58;87066) SECMAN&#58; required authentication with collector vocms0115.cern.ch&#58;9647 failed, so aborting command UPDATE_STARTD_AD.
07/07/16 14&#58;15&#58;47 (pid&#58;87066) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/07/16 14&#58;15&#58;47 (pid&#58;87066) Failed to start non-blocking update to &#60;128.142.201.170&#58;9647&#62;.
07/07/16 14&#58;16&#58;13 (pid&#58;87066) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9619 failed, so aborting command CCB_REGISTER.
07/07/16 14&#58;16&#58;13 (pid&#58;87066) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/07/16 14&#58;16&#58;13 (pid&#58;87066) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9619 failed; will try to reconnect in 60 seconds.
07/07/16 14&#58;16&#58;13 (pid&#58;87066) SECMAN&#58; required authentication with collector vocms0340.cern.ch&#58;9619 failed, so aborting command CCB_REGISTER.
07/07/16 14&#58;16&#58;13 (pid&#58;87066) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/07/16 14&#58;16&#58;13 (pid&#58;87066) CCBListener&#58; connection to CCB server vocms0340.cern.ch&#58;9619 failed; will try to reconnect in 60 seconds.
07/07/16 14&#58;17&#58;14 (pid&#58;87066) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9619 failed, so aborting command CCB_REGISTER.
07/07/16 14&#58;17&#58;14 (pid&#58;87066) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/07/16 14&#58;17&#58;14 (pid&#58;87066) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9619 failed; will try to reconnect in 60 seconds.
07/07/16 14&#58;17&#58;14 (pid&#58;87066) SECMAN&#58; required authentication with collector vocms0340.cern.ch&#58;9619 failed, so aborting command CCB_REGISTER.
07/07/16 14&#58;17&#58;14 (pid&#58;87066) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/07/16 14&#58;17&#58;14 (pid&#58;87066) CCBListener&#58; connection to CCB server vocms0340.cern.ch&#58;9619 failed; will try to reconnect in 60 seconds.
07/07/16 14&#58;18&#58;14 (pid&#58;87066) SECMAN&#58; required authentication with collector vocms0340.cern.ch&#58;9619 failed, so aborting command CCB_REGISTER.
07/07/16 14&#58;18&#58;14 (pid&#58;87066) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/07/16 14&#58;18&#58;14 (pid&#58;87066) CCBListener&#58; connection to CCB server vocms0340.cern.ch&#58;9619 failed; will try to reconnect in 60 seconds.
07/07/16 14&#58;18&#58;15 (pid&#58;87066) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9619 failed, so aborting command CCB_REGISTER.
07/07/16 14&#58;18&#58;15 (pid&#58;87066) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
07/07/16 14&#58;18&#58;15 (pid&#58;87066) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9619 failed; will try to reconnect in 60 seconds.
07/07/16 14&#58;19&#58;13 (pid&#58;87066) Getting monitoring info for pid 87066

<div id='show_798760468' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_798760468'>by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_798760468').click(function() {
            $('#detail_798760468').slideDown("normal");
            $('#show_798760468').hide();
            $('#hide_798760468').show();
        });
        $('#hide_798760468').click(function() {
            $('#detail_798760468').slideUp();
            $('#hide_798760468').hide();
            $('#show_798760468').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1467895259'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-07-07T12:40:59+00:00">Jul 7, 2016 12:40 PM UTC</time> by <b>echism</b><a class="anchor" name="1467895259">&nbsp;</a></div><pre>Is there anything new on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='29566#1467321286'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-30T21:14:46+00:00">Jun 30, 2016 09:14 PM UTC</time><a class="anchor" name="1467321286">&nbsp;</a></div><pre>Edgar,

You new LIGO glideins are being held [1].

Marty Kandes
UCSD Glidein Factory Operations

[1]

135493.0   feligo          6/30 21&#58;08 Globus error 7&#58; authentication with the remote server failed

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1467249183'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-30T01:13:03+00:00">Jun 30, 2016 01:13 AM UTC</time><a class="anchor" name="1467249183">&nbsp;</a></div><pre>I mean we work through this with Ligo this was working. I wonder what changed.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1467235352'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-29T21:22:32+00:00">Jun 29, 2016 09:22 PM UTC</time><a class="anchor" name="1467235352">&nbsp;</a></div><pre>It&#39;s a symlink pointing to certificates-1.55NEW, which in turn seems populated by all the usual certs.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1467235110'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-29T21:18:30+00:00">Jun 29, 2016 09:18 PM UTC</time><a class="anchor" name="1467235110">&nbsp;</a></div><pre>Bo,

Can you do this? We don&#39;t have direct access to Stampede at this time.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1467234907'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-29T21:15:07+00:00">Jun 29, 2016 09:15 PM UTC</time><a class="anchor" name="1467234907">&nbsp;</a></div><pre>Marty, Bo,

Can you launch a job by hand in Stampede and verify&#58;

/cvmfs/oasis.opensciencegrid.org/mis/certificates

Exists on the wn. This is is getting confusing.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1467233446'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-29T20:50:46+00:00">Jun 29, 2016 08:50 PM UTC</time><a class="anchor" name="1467233446">&nbsp;</a></div><pre>Edgar,

I don&#39;t know. You tell me. We have X509_CERT_DIR set to [1] in the entry. Are we sure this is where they are located on Stampede? Also, I would assume this could also be related to the problem of not being able to find where, and if, grid-proxy-init and coms-proxy-init are available.

Marty Kandes
UCSD Glidein Factory Operations

[1]

&#60;attr name=&#34;X509_CERT_DIR&#34; const=&#34;True&#34; glidein_publish=&#34;False&#34; job_publish=&#34;True&#34; parameter=&#34;True&#34; publish=&#34;True&#34; type=&#34;string&#34; value=&#34;/cvmfs/oasis.opensciencegrid.org/mis/certificates&#34;/&#62;

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1467131073'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-28T16:24:33+00:00">Jun 28, 2016 04:24 PM UTC</time><a class="anchor" name="1467131073">&nbsp;</a></div><pre>Hi Marty,

THis is no bueno&#58;

WARNING - Could not find CA certificates!
Looked in&#58;
$X509_CERT_DIR ()
$HOME/.globus/certificates/ (/home1/04092/tg833915/.globus/certificates/)
/etc/grid-security/certificates/        $GLOBUS_LOCATION/share/certificates/ (/opt/apps/xsede/gram5-5.2.3/share/certificates/)
$X509_CADIR ()
grid-proxy-init command not found in path!
voms-proxy-init command not found in path!
Not all x509 commands found in path (2 missing)

Why is the glidien not looking for the certs in the cvmfs path?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1466788445'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-24T17:14:05+00:00">Jun 24, 2016 05:14 PM UTC</time><a class="anchor" name="1466788445">&nbsp;</a></div><pre>Bo, Farrukh,

Glideins begin running, but appear unable to properly authenticate back to the fronted collectors. e.g., from a glidein startd log [1]. I&#39;m guessing this could be related to the glideins not being able to find the CA certificates [2] at Stampede.

Marty kandes
UCSD Glidein Factory Operations

[1]

06/24/16 10&#58;24&#58;12 (pid&#58;63558) SECMAN&#58; required authentication with collector cmssrv215.fnal.gov&#58;9645 failed, so aborting command UPDATE_STARTD_AD.
06/24/16 10&#58;24&#58;12 (pid&#58;63558) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
06/24/16 10&#58;24&#58;12 (pid&#58;63558) Failed to start non-blocking update to &#60;131.225.205.29&#58;9645&#62;.
06/24/16 10&#58;24&#58;13 (pid&#58;63558) SECMAN&#58; required authentication with collector vocms0115.cern.ch&#58;9645 failed, so aborting command UPDATE_STARTD_AD.
06/24/16 10&#58;24&#58;13 (pid&#58;63558) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
06/24/16 10&#58;24&#58;13 (pid&#58;63558) Failed to start non-blocking update to &#60;128.142.201.170&#58;9645&#62;.
06/24/16 10&#58;24&#58;45 (pid&#58;63558) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9643 failed, so aborting command CCB_REGISTER.
06/24/16 10&#58;24&#58;45 (pid&#58;63558) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
06/24/16 10&#58;24&#58;45 (pid&#58;63558) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9643 failed; will try to reconnect in 60 seconds.
06/24/16 10&#58;24&#58;47 (pid&#58;63558) SECMAN&#58; required authentication with collector vocms0340.cern.ch&#58;9643 failed, so aborting command CCB_REGISTER.
06/24/16 10&#58;24&#58;47 (pid&#58;63558) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
06/24/16 10&#58;24&#58;47 (pid&#58;63558) CCBListener&#58; connection to CCB server vocms0340.cern.ch&#58;9643 failed; will try to reconnect in 60 seconds.
06/24/16 10&#58;25&#58;46 (pid&#58;63558) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9643 failed, so aborting command CCB_REGISTER.
06/24/16 10&#58;25&#58;46 (pid&#58;63558) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
06/24/16 10&#58;25&#58;46 (pid&#58;63558) CCBListener&#58; connection to CCB server vocms0341.cern.ch&#58;9643 failed; will try to reconnect in 60 seconds.
06/24/16 10&#58;25&#58;47 (pid&#58;63558) SECMAN&#58; required authentication with collector vocms0340.cern.ch&#58;9643 failed, so aborting command CCB_REGISTER.
06/24/16 10&#58;25&#58;47 (pid&#58;63558) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method
06/24/16 10&#58;25&#58;47 (pid&#58;63558) CCBListener&#58; connection to CCB server vocms0340.cern.ch&#58;9643 failed; will try to reconnect in 60 seconds.
06/24/16 10&#58;26&#58;47 (pid&#58;63558) SECMAN&#58; required authentication with collector vocms0341.cern.ch&#58;9643 failed, so aborting command CCB_REGISTER.
06/24/16 10&#58;26&#58;47 (pid&#58;63558) ERROR&#58; AUTHENTICATE&#58;1003&#58;Failed to authenticate with any method

[2]

WARNING - Could not find CA certificates!
Looked in&#58;
$X509_CERT_DIR ()
<div id='show_294846094' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_294846094'>$HOME/.globus/certificates/ (/home1/04092/tg833915/.globus/certificates/)
/etc/grid-security/certificates/        $GLOBUS_LOCATION/share/certificates/ (/opt/apps/xsede/gram5-5.2.3/share/certificates/)
$X509_CADIR ()
grid-proxy-init command not found in path!
voms-proxy-init command not found in path!
Not all x509 commands found in path (2 missing)!

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_294846094').click(function() {
            $('#detail_294846094').slideDown("normal");
            $('#show_294846094').hide();
            $('#hide_294846094').show();
        });
        $('#hide_294846094').click(function() {
            $('#detail_294846094').slideUp();
            $('#hide_294846094').hide();
            $('#show_294846094').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1466777833'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-24T14:17:13+00:00">Jun 24, 2016 02:17 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1466777833">&nbsp;</a></div><pre>Hi,

I am sending some sleep jobs to verify if the CRL issue has been fixed while we wait for Ajit to clone another WF.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1466777344'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-24T14:09:04+00:00">Jun 24, 2016 02:09 PM UTC</time><a class="anchor" name="1466777344">&nbsp;</a></div><pre>Elizabeth,

Yes, I believe we are simply waiting on another batch of test jobs from the CMS frontend folks.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1466776422'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-24T13:53:42+00:00">Jun 24, 2016 01:53 PM UTC</time><a class="anchor" name="1466776422">&nbsp;</a></div><pre>I&#39;ve poked people a couple times on the CMS end to try test workflows again. The CRLs should be resolved and with Marty&#39;s fix we should no longer be burning 1000 cores worth of time per go.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1466776292'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-24T13:51:32+00:00">Jun 24, 2016 01:51 PM UTC</time> by <b>echism</b><a class="anchor" name="1466776292">&nbsp;</a></div><pre>What remains to be done with this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='29566#1466009100'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T16:45:00+00:00">Jun 15, 2016 04:45 PM UTC</time><a class="anchor" name="1466009100">&nbsp;</a></div><pre>Edgar, Bo,

It looks like LIGO is not currently using Stampede. As such, I reduced each glidein to (count=16)(host_count=1) while CMS debugs their submission issues at TACC.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1466000704'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T14:25:04+00:00">Jun 15, 2016 02:25 PM UTC</time><a class="anchor" name="1466000704">&nbsp;</a></div><pre>Bo,

Yes, that would be correct. The Stampede entry is configured to (count=1024)(host_count=64). This was originally setup to side-step the 50 job max limit at Stampede when LIGO was running in production. Shall we decrease to single-node glideins while you debug?

Edgar,

LIGO is not running at Stampede right now, correct? We can decrease to one-node for now, yes?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1465990511'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T11:35:11+00:00">Jun 15, 2016 11:35 AM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1465990511">&nbsp;</a></div><pre>Hi Edgar,

It is not going to be hard at all. I would need to enable the parrot frontend group and add Stampede to it. Just a side note that since we run 5 frontend groups (the parrot group is disabled currently) and almost all of them point to a large set of jobs/resources, we sometimes run into memory consumption issues. So we try to be conservative with the amount of frontend groups that we enable on the frontend side. We haven&#39;t any memory issues in the last 3-4 months though, but it is something to keep in mind.

Judging from the reply Dave&#39;s reply, my guess is that we don&#39;t need parrot any more? If not, just let me know and I can add it to the parrot frontend group in the ITB.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1465983126'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-15T09:32:06+00:00">Jun 15, 2016 09:32 AM UTC</time><a class="anchor" name="1465983126">&nbsp;</a></div><pre>One other thing-- looking at my user history on the XSEDE portal I see what appear to be these failed jobs. They show up as having run for 26 minutes of wall time on 1024 cores (!!!) each, thus burning 450 SUs each. Edgar, does it make sense that they&#39;d have booked 1k cores each? that seems like a whole lot more than even an entire node...

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1465944011'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-14T22:40:11+00:00">Jun 14, 2016 10:40 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1465944011">&nbsp;</a></div><pre>I just made a few changes and the mis/certificates location should update every 6 hours on stampede (just a little more of a stagger
on the cron job).

Do you require updates to the CRLs in a smaller increment?   6 hours seems pretty short

dave

On 6/14/2016 5&#58;30 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='29566#1465943429'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-14T22:30:29+00:00">Jun 14, 2016 10:30 PM UTC</time><a class="anchor" name="1465943429">&nbsp;</a></div><pre>YEs I see here&#58;

<a href='http&#58;//glidein-itb.grid.iu.edu/factory/monitor/factoryEntryStatusNow.html?entry=Ligo_US_Stampede_gt5' target='_blank' rel='nofollow'>http&#58;//glidein-itb.grid.iu.edu/factory/monitor/factoryEntryStatusNow.html?entry=Ligo_US_Stampede_gt5</a>

X509_CERT_DIR	/cvmfs/oasis.opensciencegrid.org/mis/certificates

Farrukh,

How hard would it be for you to set up parrot for this entry and we try it that way if we see a differnece?

Cheers,

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1465940590'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-14T21:43:10+00:00">Jun 14, 2016 09:43 PM UTC</time> by <b>ddl@....</b><a class="anchor" name="1465940590">&nbsp;</a></div><pre>Bo,

I assume you are getting the CRLs out of oasis in mis ?

login5.stampede(20)$ ll cvmfs/oasis.opensciencegrid.org/mis/certificates/*.r0
-rw-rw-r-x 1 usatlas G-815132   670 Jun 14 07&#58;20 cvmfs/oasis.opensciencegrid.org/mis/certificates/01b5d333.r0
-rw-rw-r-x 1 usatlas G-815132   670 Jun 14 07&#58;20 cvmfs/oasis.opensciencegrid.org/mis/certificates/02a45931.r0
-rw-rw-r-x 1 usatlas G-815132 25435 Jun 14 07&#58;20 cvmfs/oasis.opensciencegrid.org/mis/certificates/036b3363.r0
-rw-rw-r-x 1 usatlas G-815132   913 Jun 14 07&#58;20 cvmfs/oasis.opensciencegrid.org/mis/certificates/03a1fa38.r0
-rw-rw-r-x 1 usatlas G-815132   921 Jun 14 07&#58;21 cvmfs/oasis.opensciencegrid.org/mis/certificates/03b260e0.r0
.
.
.

I update the oasis repository once per day, but I have the &#34;mis&#34; setup to update every 6 hours

As you can see however, the last update was with CRLs from June 14 at 7&#58;20 AM as there will always be a lag
between the Stratum-R update and the update to Stampede.

If that is too long I might be able to move it up but....somehow I dont think that is the problem ?

Are you getting the CRLs from another location ?

dave

On 6/14/2016 3&#58;32 PM, Open Science Grid FootPrints wrote&#58;
<font color='#7F7E6F'>&#62; [Duplicate message snipped]</font></pre></div><div class='update_description'><i onclick="document.location='29566#1465936342'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-14T20:32:22+00:00">Jun 14, 2016 08:32 PM UTC</time><a class="anchor" name="1465936342">&nbsp;</a></div><pre>Hi Dave (added to this ticket now),

We&#39;ve run into a snag trying CMS out at Stampede where we seem to be hitting out-of-date CRLs which should be fetched from CVMFS. Do you know how often the refresh of the CVMFS image there is run and if there&#39;s a snag with it  recently?

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1465923616'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-14T17:00:16+00:00">Jun 14, 2016 05:00 PM UTC</time><a class="anchor" name="1465923616">&nbsp;</a></div><pre>Nah that won&#39;t help. Because the entry is configured to get the certs from CVMFS. The next step is to contact David Lesny since there is a problem clearly with the fetch-crl over the NFS mount.

Edgar

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1465922203'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-14T16:36:43+00:00">Jun 14, 2016 04:36 PM UTC</time><a class="anchor" name="1465922203">&nbsp;</a></div><pre>You can put your CA certificates into ~/.globus/certificates/ and remove the *.r0 files.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1465920340'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-14T16:05:40+00:00">Jun 14, 2016 04:05 PM UTC</time><a class="anchor" name="1465920340">&nbsp;</a></div><pre>Hi,

As Farrukh, Edgar, and Marty have ascertained, the test jobs we&#39;re running are failing due to outdated CRLs. Do we need to file another XSEDE ticket to get them updated or might there be a more effective route?

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1465906745'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-14T12:19:05+00:00">Jun 14, 2016 12:19 PM UTC</time> by <b>echism</b><a class="anchor" name="1465906745">&nbsp;</a></div><pre>Is there any news from the GRAM folks?

Thank you</pre></div><div class='update_description'><i onclick="document.location='29566#1465495471'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-09T18:04:31+00:00">Jun 9, 2016 06:04 PM UTC</time><a class="anchor" name="1465495471">&nbsp;</a></div><pre>Hi all,

Just forwarding on David Carver&#39;s latest reply from the XSEDE ticket for those who cannot view it yet ...

&#34;Tue Jun 07 11&#58;11&#58;37 2016&#58; Request 46885 was acted upon.
Transaction&#58; Correspondence added by dcarver
Queue&#58; 0-TACC
Subject&#58; XUP&#58; GRAM-CE Configuration - Submit directory, logs
Owner&#58; dcarver
Requestors&#58; mkandes@....
Status&#58; open
Ticket URL&#58; <a href='https&#58;//portal.xsede.org/group/xup/tickets/-/tickets/46885' target='_blank' rel='nofollow'>https&#58;//portal.xsede.org/group/xup/tickets/-/tickets/46885</a>

I have not been able to find any simple way to change the location of the $HOME/gram_&#60;yyyymmdd&#62;.log file.
But the VDT distribution of globus did have the following feature not in the XSede version.
<a href='http&#58;//vdt.cs.wisc.edu/releases/1.1.14/vdt_logrotate.html' target='_blank' rel='nofollow'>http&#58;//vdt.cs.wisc.edu/releases/1.1.14/vdt_logrotate.html</a> which did not answer your question but did help manage the user&#39;s gram log files.

We have turned off all the gram5 debugging and verbose logging on Stampede to try to keep the logs smaller, but this will not solve your problem of filling up your $HOME quota with daily gram logs.

I going to reassign this ticket to the Globus Gram5 developers/ XSede SDI staff and see if I missing something that is easy to fix.

Otherwise, we could setup a cronjob that would purge gram5 logs in your home directory older than X days/months/years old.  By the way your gram logs in $HOME are being backed up to ranch each night so we could retrieve a gram log from any time.

Globus Gram5 developer,
Reassign ticket to Globus/SDI to see if there is a way to control the location of the user&#39;s gram_YYYYMMDD.log files.  Active XSede gateway are filling up the $HOME quota with gram log files.&#34;

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1465316798'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-07T16:26:38+00:00">Jun 7, 2016 04:26 PM UTC</time><a class="anchor" name="1465316798">&nbsp;</a></div><pre>Thanks for the pointer Mats. The allocation ID that shows up in the MOTD is TG-PHY160019. I think that&#39;s what we set for Comet? (it might mean that we have the wrong one for Comet then). I can keep an eye out for the GRAM logs when we do get something running.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1465316574'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-07T16:22:54+00:00">Jun 7, 2016 04:22 PM UTC</time><a class="anchor" name="1465316574">&nbsp;</a></div><pre>I don&#39;t think the allocation id are the same. SDSC usually want their local ones (3 letters, 3 numbers?) and TACC usually wants the actual TG-... allocation id. You can see your allocations with the &#34;show_accounts&#34; command on Comet and the in the motd when you login to Stampede.

GRAM does not always bubble back the correct errors. You might have to login to stampede under the account the glideins are going to, and lock the GRAM logs. The following is an example from my own home directory&#58;

rep -i failure-message gram_2015101*
gram_20151015.log&#58;ts=2015-10-15T13&#58;39&#58;15.063529Z id=30145 event=gram.callback.queue.start level=TRACE gramid=/16506047173812222741/13331958173416083330/ msg=&#34;Queuing status update message&#34; status_message=&#34;protocol-version&#58; 2&#92;r&#92;njob-manager-url&#58; <a href='https&#58;//login5.stampede.tacc.utexas.edu&#58;50386/16506047173812222741/13331958173416083330/&#92' target='_blank' rel='nofollow'>https&#58;//login5.stampede.tacc.utexas.edu&#58;50386/16506047173812222741/13331958173416083330/&#92</a>;r&#92;nstatus&#58; 4&#92;r&#92;nfailure-code&#58; 17&#92;r&#92;nversion&#58; &#92;&#34;13.51 (1350658462-83)&#92;&#34;&#92;r&#92;ntoolkit-version&#58; &#92;&#34;5.2.3&#92;&#34;&#92;r&#92;ngt3-failure-message&#58; &#92;&#34;-----------------------------------------------------------------&#92;&#92;&#92;&#92;n              Welcome to the Stampede Supercomputer              &#92;&#92;&#92;&#92;n-----------------------------------------------------------------&#92;&#92;&#92;&#92;n&#92;&#92;&#92;&#92;n--&#62; Verifying valid submit host (login5)...OK&#92;&#92;&#92;&#92;n--&#62; Verifying valid jobname...OK&#92;&#92;&#92;&#92;n--&#62; Enforcing max jobs per user...OK&#92;&#92;&#92;&#92;n--&#62; Verifying availability of your home dir (/home1/00384/rynge)...OK&#92;&#92;&#92;&#92;n--&#62; Verifying availability of your work dir (/home1/00384/rynge)...OK&#92;&#92;&#92;&#92;n--&#62; Verifying availability of your scratch dir (/home1/00384/rynge)...OK&#92;&#92;&#92;&#92;n--&#62; Verifying valid ssh keys...OK&#92;&#92;&#92;&#92;n--&#62; Verifying access to desired queue (development)...OK&#92;&#92;&#92;&#92;n--&#62; Verifying job request is within current queue limits...FAILED&#92;&#92;&#92;&#92;n&#92;&#92;&#92;&#92;n    [*] Too many simultaneous jobs in queue.&#92;&#92;&#92;&#92;n        --&#62; Max job limits for development =   1 jobs&#92;&#92;&#92;&#92;n&#92;&#92;&#92;&#92;n&#92;&#34;&#92;r&#92;n&#34;

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1465313382'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-07T15:29:42+00:00">Jun 7, 2016 03:29 PM UTC</time><a class="anchor" name="1465313382">&nbsp;</a></div><pre>HI Farrukh,

Do you see anything in the .err logs of the frontend group that is requesting to Stampede?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1465308370'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-07T14:06:10+00:00">Jun 7, 2016 02:06 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1465308370">&nbsp;</a></div><pre>Hi Bo,

Yes, we added the allocation ID added to the credentials for Comet. Since the allocation ID is the same, we don&#39;t need to do anything.

Let me know if you guys see any issues while running the tests.

Best regards,
Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1465307905'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-07T13:58:25+00:00">Jun 7, 2016 01:58 PM UTC</time><a class="anchor" name="1465307905">&nbsp;</a></div><pre>Hi Farrukh,

It&#39;s the same allocation as for Comet and since we already associated the pilot DN with XSEDE for Comet I don&#39;t think we need to do that again for Stampede. Was there any frontend change that needed to be made for Comet?

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1465305132'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-07T13:12:12+00:00">Jun 7, 2016 01:12 PM UTC</time> by <b>farrukh.aftab.khan@....</b><a class="anchor" name="1465305132">&nbsp;</a></div><pre>Hi guys,

I have fallen out of loop on this ticket, so is there something I need to do on the CMS frontend side? I see the Stampede entry showing up in the frontend logs.

The ITB pilot DN is&#58; /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch
And I am assuming that we have the same allocation ID?

Let me know if I need to do something on the frontend side.

Thanks!

Farrukh</pre></div><div class='update_description'><i onclick="document.location='29566#1465253934'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-06T22:58:54+00:00">Jun 6, 2016 10:58 PM UTC</time><a class="anchor" name="1465253934">&nbsp;</a></div><pre>Hi Jeff,

Thanks for checking. We actually made the T3_US_TACC entry last week so it makes sense that it was associated with T3_US_OSG before. As for the ticket the relevant response is the one that Marty has copied here but I can also associate you with the allocation if you have an XSEDE account so you can see the full history. As for moving with CMS testing I think we now have all that we need but let&#39;s keep this ticket open until we can have a successful test.

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1465252356'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-06T22:32:36+00:00">Jun 6, 2016 10:32 PM UTC</time><a class="anchor" name="1465252356">&nbsp;</a></div><pre>Hi,

I also double checked with Marty, since I don&#39;t have access to the Stampede ticket. If I have it correct the SLURM logs have been moved, but not the GRAM logs. We&#39;ll keep an eye out to ensure the disk doesn&#39;t get filled again.

CMS has been on the supported VO list this whole time but I suspect they weren&#39;t using it since the CMSSite name was set to T3_US_OSG. I have just changed it to T3_US_TACC.

Bo please let us know if we need anything else set in the entry to allows CMS to start using Stampede.

Thanks,
Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='29566#1465246527'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-06T20:55:27+00:00">Jun 6, 2016 08:55 PM UTC</time><a class="anchor" name="1465246527">&nbsp;</a></div><pre>Can you also set GLIDEIN_CMSSite for this entry to T3_US_TACC?

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1465245668'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-06T20:41:08+00:00">Jun 6, 2016 08:41 PM UTC</time><a class="anchor" name="1465245668">&nbsp;</a></div><pre>Factory ops,

It is time to get this set up for production. David says the problem is mostly solved. I don&#39;t think the daily gram logs are going to hurt much, but if they do, then we can use that to push harder.

So, please get the entry configured so that we can start doing some runs.

Thanks,
Mats

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1464903634'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-02T21:40:34+00:00">Jun 2, 2016 09:40 PM UTC</time><a class="anchor" name="1464903634">&nbsp;</a></div><pre>Hi all,

David Carver at TACC replied&#58;

&#34;Weird, I thought I update the ticket a wile back, but I can&#39;t find the ticket or email.

On May 26, I turn off the TACC slurm debugging going to your home directory, so no more slurm.exec.12345 and slurm.job.12345 files.
But I still collect the job scripts in /tmp on login5 to help me debug a problem.

[root@....pede]# diff slurm.pm.201605026  slurm.pm
820,821c820,821
&#60;      &#96;cat $slurm_job_script_name &#62; $ENV{HOME}/slurm.job.$$&#96;;
&#60;      &#96;cat $slurm_exec_script_name &#62; $ENV{HOME}/slurm.exec.$$&#96;;
---
<font color='#7F7E6F'>&#62; #     &#96;cat $slurm_job_script_name &#62; $ENV{HOME}/slurm.job.$$&#96;;</font>
<font color='#7F7E6F'>&#62; #     &#96;cat $slurm_exec_script_name &#62; $ENV{HOME}/slurm.exec.$$&#96;;</font>
[root@....pede]#

I also turned on the Gram debugging

[root@....pede]# diff globus-job-manager.conf.20160526 globus-job-manager.conf
11d10
&#60;         -log-levels &#39;FATAL|ERROR|WARN|INFO|DEBUG|TRACE&#39;
[root@....pede]# diff globus-gatekeeper.conf.20160526 globus-gatekeeper.conf
11d10
&#60;   -debug
[root@....pede]#

Still trying to figure out who or where the $HOME/gram_&#60;YYYYMMDD&#62;.log are being generated.

May need to bump this to the globus gram5 developer.&#34;

If any GRAM experts out there have a suggestion we can pass back ...

Marty Kandes
<div id='show_1782249176' class=''><button class="btn">Show More</button></div><div class='detail hidden' id='detail_1782249176'>UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049
</div><script type='text/javascript'>
        $('#show_1782249176').click(function() {
            $('#detail_1782249176').slideDown("normal");
            $('#show_1782249176').hide();
            $('#hide_1782249176').show();
        });
        $('#hide_1782249176').click(function() {
            $('#detail_1782249176').slideUp();
            $('#hide_1782249176').hide();
            $('#show_1782249176').show();
        });
        </script></pre></div><div class='update_description'><i onclick="document.location='29566#1464792518'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-01T14:48:38+00:00">Jun 1, 2016 02:48 PM UTC</time><a class="anchor" name="1464792518">&nbsp;</a></div><pre>I have commented on the XSEDE ticket to see if we can get a reply.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1464787128'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-06-01T13:18:48+00:00">Jun 1, 2016 01:18 PM UTC</time><a class="anchor" name="1464787128">&nbsp;</a></div><pre>Hi,

It&#39;s now been a week with no movement on Marty&#39;s XSEDE ticket. Can we push back a little? Mats, can you help out with that?

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1464282096'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-26T17:01:36+00:00">May 26, 2016 05:01 PM UTC</time><a class="anchor" name="1464282096">&nbsp;</a></div><pre>Hi Edgar,

I&#39;ve added you as well.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1464279798'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-26T16:23:18+00:00">May 26, 2016 04:23 PM UTC</time><a class="anchor" name="1464279798">&nbsp;</a></div><pre>Hi Bo,

Can you add me too? When I try to see this ticket&#58;

<a href='https&#58;//portal.xsede.org/group/xup/tickets/-/tickets/46885' target='_blank' rel='nofollow'>https&#58;//portal.xsede.org/group/xup/tickets/-/tickets/46885</a>

I get&#58;

&#34;You do not have the correct permissions to view this ticket.&#34;

My XSEDE user name is efajardo

Thanks,

Edgar
OSG Software

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1464274122'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-26T14:48:42+00:00">May 26, 2016 02:48 PM UTC</time><a class="anchor" name="1464274122">&nbsp;</a></div><pre>Thanks, Bo.

I&#39;ve cc&#39;d several of you on the newly submitted ticket&#58;

#46885 &#58; XUP&#58; GRAM-CE Configuration - Submit directory, logs.

The good news is that I can still see/read the ticket I submitted, which is an improvement over last time we tried this with LIGO. Let&#39;s see where this goes.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464272322'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-26T14:18:42+00:00">May 26, 2016 02:18 PM UTC</time><a class="anchor" name="1464272322">&nbsp;</a></div><pre>I&#39;ve now added both Marty and Mats to the CMS allocation as XSEDE users. Hopefully that should be sufficient to use the ticketing system for this case.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1464271927'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-26T14:12:07+00:00">May 26, 2016 02:12 PM UTC</time><a class="anchor" name="1464271927">&nbsp;</a></div><pre>Mats,

My XSEDE username is mckandes. I can open the ticket.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464216855'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T22:54:15+00:00">May 25, 2016 10:54 PM UTC</time><a class="anchor" name="1464216855">&nbsp;</a></div><pre>That is probably just the portal being silly. In the native XSEDE ticket system there is nothing mapping things to a particular allocation. I have to solutions for you&#58;

1) Have Bo add you to his allocation. Easy to do in the XSEDE portal&#58; <a href='https&#58;//portal.xsede.org/group/xup/add-remove-user' target='_blank' rel='nofollow'>https&#58;//portal.xsede.org/group/xup/add-remove-user</a>

or

2) Get native access to the ticket system. I think I can do that if you provide me with your XSEDE portal username.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1464216451'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T22:47:31+00:00">May 25, 2016 10:47 PM UTC</time><a class="anchor" name="1464216451">&nbsp;</a></div><pre>So my proposal is to hack the glidiens to remove it while Rob Q works its magic on openning a line of communication with them.

Mats,

The problem with XSEDE tickets is that as soon as we tell them the &#34;PROJECT ID&#34; we are submtting then nobody can see that ticket anymore except probably Bo which leaves us back to where we are.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1464216277'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T22:44:37+00:00">May 25, 2016 10:44 PM UTC</time><a class="anchor" name="1464216277">&nbsp;</a></div><pre>The communication channel should be the XSEDE ticket system. Complaining about their setup here is not going to help. Maybe this is already ongoing, but if not&#58; somebody needs to take ownership of this issue and open a XSEDE ticket.

I do agree that their GRAM setup could be better, but note that virtually nobody is using that as an access method on these systems. Most people just ssh in and submit their jobs, so making GRAM improvements is probably pretty low on the priority list.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1464215379'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T22:29:39+00:00">May 25, 2016 10:29 PM UTC</time><a class="anchor" name="1464215379">&nbsp;</a></div><pre>Even more basic question for TACC admins when we finally open a communication channel with them will be,

Why don&#39;t they have auto cleanup of their gram logs after the grid jobs terminate? I imagine there&#39;s some kind of way to do this. It&#39;s really a CE misconfiguration in my opinion, and the ideal solution is for them to get it right on their side, rather than coming up with a cleanup script hack in the glidein.

Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='29566#1464215241'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T22:27:21+00:00">May 25, 2016 10:27 PM UTC</time><a class="anchor" name="1464215241">&nbsp;</a></div><pre>Edgar,

Why not? TACC isn&#39;t running this GRAM-CE?

Bo,

80GB partition mounted on /tmp on regular compute nodes. 398GB partition mounted on /tmp on bigmem compute nodes.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464214758'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T22:19:18+00:00">May 25, 2016 10:19 PM UTC</time><a class="anchor" name="1464214758">&nbsp;</a></div><pre>Gotcha Marty,

But I don&#39;t think we could have the Stampede guys doing that change for us.  We can always ask, maybe Mats can ask them?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1464214182'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T22:09:42+00:00">May 25, 2016 10:09 PM UTC</time><a class="anchor" name="1464214182">&nbsp;</a></div><pre>How much is available in the local /tmp directories?

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1464214000'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T22:06:40+00:00">May 25, 2016 10:06 PM UTC</time><a class="anchor" name="1464214000">&nbsp;</a></div><pre>Edgar,

Yes, we need the GRAM and SLURM logs either moved, removed, or redirected from $HOME to avoid hitting the limits. The most natural solution to this still seems to me to be not having GRAM and SLURM put them their in the first place. I would imagine this is a one-line change to the GRAM-CE configuration. We just want GRAM to do something like

cd $SCRATCH
sbatch edgarsmonsterglidein.sh

versus

cd $HOME
sbatch edgarsmonsterglidein.sh

when they submit the glidein job.

As for work_dir = $SCRATCH, I think we originally moved to work_dir = /tmp in order to avoid having the glideins hit the parallel file system to hard. So, no. I would image we still want work_dir = /tmp, unless CMS anticipates needing more disk space than available in the local /tmp directories.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464212844'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T21:47:24+00:00">May 25, 2016 09:47 PM UTC</time><a class="anchor" name="1464212844">&nbsp;</a></div><pre>Marty,

I agree so the work dir should be set to $SCRATCH, and the gram logs removed from $HOME regularly by the glideins. I think we agree on it.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1464212308'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T21:38:28+00:00">May 25, 2016 09:38 PM UTC</time><a class="anchor" name="1464212308">&nbsp;</a></div><pre>Edgar,

Users have full access to their own $WORK and $SCRATCH space, same as $HOME. All three directories are on the parallel file system. There would be no access problems to the logs. We would not have to bother the admins to see what was going on. The problem with $HOME is that it is limited to 5 GB and 150K files, which is why the documentation recommends not submitting jobs from the $HOME directory as they appear to be doing. Maybe there is a good reason for GRAM not submitting gldiein jobs like a normal user should submit a job manually, but it is not clear.

For the glideins themselves, all glidein-related files should only be in the local /tmp storage on each node.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464211655'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T21:27:35+00:00">May 25, 2016 09:27 PM UTC</time><a class="anchor" name="1464211655">&nbsp;</a></div><pre>Marty,

I don&#39;t think it is poorly configured. I actually think it is pretty clever. What is in home is the information out of GRAM that a user would need to debug problems accessing the site through GRAM without having to bug the admins. But the problem I think is not necessairly on space but inodes.

We are using /tmp or $SCRATCH for the actual scratch of jobs.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1464210819'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T21:13:39+00:00">May 25, 2016 09:13 PM UTC</time><a class="anchor" name="1464210819">&nbsp;</a></div><pre>Bo,

Have you all submitted jobs to Stampede via glideins from the GOC-ITB factory yet?. I don&#39;t have any sign of them in the factory. Should I?

What is the XSEDE project ID for this allocation? We would like to contact the TACC admins to see what we can do about this CE/local batch configuration issue of why GRAM is setup to submit the glideins to SLURM from $HOME instead of $WORK or $SCRATCH. There own instructions say &#34;Avoid running jobs in the $HOME directory. Run jobs in $WORK or $SCRATCH.&#34; See <a href='https&#58;//portal.xsede.org/tacc-stampede.' target='_blank' rel='nofollow'>https&#58;//portal.xsede.org/tacc-stampede.</a> We can still add a cleanup script for you all, but this is still independent from a poorly configured gatekeeper on their end.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464209036'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T20:43:56+00:00">May 25, 2016 08:43 PM UTC</time><a class="anchor" name="1464209036">&nbsp;</a></div><pre>So the only stuff we need to take care is the &#34;GRAM&#34; stuff that is dumped in $HOME.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1464208390'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T20:33:10+00:00">May 25, 2016 08:33 PM UTC</time> by <b>dirk.hufnagel@....</b><a class="anchor" name="1464208390">&nbsp;</a></div><pre>Looking at the condor logs from the job, nothing from the job itself
should be outside

/data1/condor_local/execute/dir_3135599/glide_wMrqTP/execute

If there are things it&#39;s either very early on in the pilot startup or
has to do with how the pilot gets into the batch system in the first place.</pre></div><div class='update_description'><i onclick="document.location='29566#1464207487'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T20:18:07+00:00">May 25, 2016 08:18 PM UTC</time><a class="anchor" name="1464207487">&nbsp;</a></div><pre>Hi Marty,

CMS jobs should start  working in whatever directory the pilot is running out of, so there shouldn&#39;t be any behavior that defaults to $HOME. Dirk can correct me if I&#39;m wrong.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1464207069'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T20:11:09+00:00">May 25, 2016 08:11 PM UTC</time><a class="anchor" name="1464207069">&nbsp;</a></div><pre>Bo,

Are we certain nothing else but the logs ends up in $HOME at any time? e.g., You don&#39;t see any user input and/or output files are placed there during staging in and out of the glideins, correct?

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464205795'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-25T19:49:55+00:00">May 25, 2016 07:49 PM UTC</time><a class="anchor" name="1464205795">&nbsp;</a></div><pre>Hi Marty,

But I see that being harder to get the Stampede folks to change their config on the GRAM. And I think they desgined it this way so users did not have to bother admins for the CE logs. For now can you add a script to the entry clearing gram_8*.log and slurm.* files in $HOME older than 2 weeks?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1464129522'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-24T22:38:42+00:00">May 24, 2016 10:38 PM UTC</time><a class="anchor" name="1464129522">&nbsp;</a></div><pre>$HOME, $WORK, and $SCRATCH are environment variables specific to each user on Stampede that points to their respective $HOME, $WORK, and $SCRATCH directories and should be available system-wide. Right now, SLURM appears to see GRAM submit glideins to the local queue from $HOME, which is why we&#39;re seeing the logs pile up there. I would say this is the least best option with or without a cleanup script. My only suggestion is that we change this &#34;start-up&#34; directory to $WORK or $SCRATCH, which will be just as generic for any user moving forward. I would guess this is setup on the GRAM-CE somewhere.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464129015'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-24T22:30:15+00:00">May 24, 2016 10:30 PM UTC</time><a class="anchor" name="1464129015">&nbsp;</a></div><pre>Now I understand since the $HOME is accessible from the worker nodes. The script could do before a pilot starts to delete the old stuff. Yep I think that could work

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1464128370'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-24T22:19:30+00:00">May 24, 2016 10:19 PM UTC</time><a class="anchor" name="1464128370">&nbsp;</a></div><pre>I think it would be easier to add the cleanup to one a gwms custom script. That way it will save you some time when you set up new users and do not have to install cronjobs.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1464127646'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-24T22:07:26+00:00">May 24, 2016 10:07 PM UTC</time><a class="anchor" name="1464127646">&nbsp;</a></div><pre>P.S. The Stampede admins &#34;fixed&#34; this problem with LIGO by increasing Brian&#39;s $HOME limit to 20GB.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464127558'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-24T22:05:58+00:00">May 24, 2016 10:05 PM UTC</time><a class="anchor" name="1464127558">&nbsp;</a></div><pre>Mats et al.,

Glidein work_dir is already set to /tmp.

I think the cron job is fine, but it would be better to also figure out how to redirect the local GRAM/SLURM logs from the user&#39;s $HOME directory to either their $WORK (1TB limit) or their $SRATCH (PB limit?) directory available on Stampede, which has considerably more space available than the small $HOME directories (10GB limit).

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464127119'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-24T21:58:39+00:00">May 24, 2016 09:58 PM UTC</time><a class="anchor" name="1464127119">&nbsp;</a></div><pre>Hi Mats,

Interesting findings. So this means that for each VO that wants to use it. The &#34;user&#34; whose allocation is tied to would need like a cronjob do delete gram_8*.log and slurm.* older than X

Where I guess X means somehting like a week or so? But this files should be fairly small. I wonder if the problem is the number of them

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1464126385'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-24T21:46:25+00:00">May 24, 2016 09:46 PM UTC</time><a class="anchor" name="1464126385">&nbsp;</a></div><pre>I think there are two issues here&#58; 1) glidein scratch should be switched to /tmp, and 2) GRAM on stampede leaves crap in $HOME.

Re 2), in my $HOME I see GRAM logs named with timestamps&#58;

gram_20151015.log
gram_20151016.log
gram_20151017.log
gram_20151018.log

and a bunch of slurm submit scripts&#58;

slurm.exec.25264
slurm.exec.30147
slurm.exec.32777
slurm.job.25264
slurm.job.30147
slurm.job.32777

To successfully run om Stampede, I think we need a mechanism to clean those up. One solution would be with a factory or frontend gwms script.

If factory ops want to have access to Stampede for some testing, we have a small allocation for that (can run test jobs, but no real workloads). If you are interested in such access, email me your XSEDE portal username.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1464124857'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-24T21:20:57+00:00">May 24, 2016 09:20 PM UTC</time><a class="anchor" name="1464124857">&nbsp;</a></div><pre>Bo,

Mats&#39; answer is correct. But SLURM will also likely dump any output from glideins back to whatever directory it sees the GRAM-CE squeue the glidein from locally. I&#39;m guessing this will be your at $HOME directory. Brian&#39;s $HOME directory filled up with something when LIGO was submitting glideins to Stampede under his username. But we don&#39;t know exactly what it was because no one has been able to look at the contents of the directory yet. I would say let&#39;s just go ahead and send a few test CMS user jobs / glideins into Stampede and see what happens. Most likely, we just need to change this directory where the GRAM-CE squeue&#39;s the glidein from to $WORK or $SCRATCH. This is my guess anyway.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1464121482'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-24T20:24:42+00:00">May 24, 2016 08:24 PM UTC</time><a class="anchor" name="1464121482">&nbsp;</a></div><pre>Hi Jeff,

Is Mats&#39;s answer sufficient to move forward?

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1463780311'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-20T21:38:31+00:00">May 20, 2016 09:38 PM UTC</time><a class="anchor" name="1463780311">&nbsp;</a></div><pre>Node-local storage is /tmp. Please see&#58; <a href='https&#58;//portal.tacc.utexas.edu/user-guides/stampede#overview-specs-filesystems' target='_blank' rel='nofollow'>https&#58;//portal.tacc.utexas.edu/user-guides/stampede#overview-specs-filesystems</a>

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1463694614'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-19T21:50:14+00:00">May 19, 2016 09:50 PM UTC</time><a class="anchor" name="1463694614">&nbsp;</a></div><pre>Edgar,

I want to hear directly from a Stampede admin what we should set work_dir to in the pilot first before CMS submits there. We just need to be sure glideins are starting in the right place.

Thanks,
Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='29566#1463694569'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-19T21:49:29+00:00">May 19, 2016 09:49 PM UTC</time><a class="anchor" name="1463694569">&nbsp;</a></div><pre>Jeff,

I actually talk with Rob Q about this last week. He said this feasible and would start to discuss what is needed for that.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1463694517'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-19T21:48:37+00:00">May 19, 2016 09:48 PM UTC</time><a class="anchor" name="1463694517">&nbsp;</a></div><pre>Hi Jeff,

Well the problem is that Duncan&#39;s allocation is almost empty. So can we move this forward since Bo can give us access to his home account and test it using this?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1463694427'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-19T21:47:07+00:00">May 19, 2016 09:47 PM UTC</time><a class="anchor" name="1463694427">&nbsp;</a></div><pre>Hi Bo, Mats,

Yes that would be great. I intended to also bring this up with Rob Quick (just added) to see the right way about handling this. Long term we&#39;d like to see a bridge between the OSG ticketing system and xsede, in the same way we use ggus to contact european sites.

Short term, we&#39;d just like to figure out how to open a line of communication with xsede sites and have all factory operators able to view and reply.

Thanks!
Jeff

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='29566#1463694257'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-19T21:44:17+00:00">May 19, 2016 09:44 PM UTC</time><a class="anchor" name="1463694257">&nbsp;</a></div><pre>We should be able to get you direct access to the ticket system. I will work on that over email. I can also help debug the issues on Stampede. Please let me know.

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Mats Rynge 45</pre></div><div class='update_description'><i onclick="document.location='29566#1463693996'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-19T21:39:56+00:00">May 19, 2016 09:39 PM UTC</time><a class="anchor" name="1463693996">&nbsp;</a></div><pre>Hi Jeff,

Understood. Are we pushing for xsede to change their ticketing system? This might be something Mats can help with since he&#39;s both with OSG and XSEDE.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1463692121'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-19T21:08:41+00:00">May 19, 2016 09:08 PM UTC</time><a class="anchor" name="1463692121">&nbsp;</a></div><pre>I&#39;d like to ask that we hold off sending other VOs to Stampede. We never resolved the issue of Ligo filling up the $HOME location and need to ensure we start the glideins in the right place on Stampede, so we don&#39;t keep hitting the same issue again with other VOs.

We&#39;ve been struggling with opening a line of communcation with xsede, because their ticketing system doesn&#39;t make it easy to track an issue if you aren&#39;t in the project allocation (the usual case of factory ops submitting on a VO&#39;s behalf isn&#39;t well supported).

I&#39;ll reply back once we have made progress.

Thank you for your patience,
Jeff Dost
OSG Glidein Factory Operations

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jdost/CN=732648/CN=Jeffrey Michael Dost</pre></div><div class='update_description'><i onclick="document.location='29566#1463583516'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-18T14:58:36+00:00">May 18, 2016 02:58 PM UTC</time><a class="anchor" name="1463583516">&nbsp;</a></div><pre>If the entry is re-enabled now, can we try submitting pilots here as we have to Comet. Farrukh?

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1463516907'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-17T20:28:27+00:00">May 17, 2016 08:28 PM UTC</time><a class="anchor" name="1463516907">&nbsp;</a></div><pre>Hi all,

For some reason, the Stampede entry (Ligo_US_Stampede_gt5) was disabled in the factory configuration. I could not find a recent reason of why the entry was disabled. But it may be that we simply did not reenable the entry after we detected a problem with Ligo glideins filling up their $HOME directory about a month ago. If this is the case, my apologies for the oversight and delay here. In any case, I have reenable the entry and it should be available for testing by CMS via the GOC-ITB factory as they have already been added to the GLIDEIN_Supported_VOs list.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1463427879'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-16T19:44:39+00:00">May 16, 2016 07:44 PM UTC</time> by <b>echism</b><a class="anchor" name="1463427879">&nbsp;</a></div><pre>Hey all,

Where are we on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='29566#1463110662'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-13T03:37:42+00:00">May 13, 2016 03:37 AM UTC</time><a class="anchor" name="1463110662">&nbsp;</a></div><pre>Ok, after a lot of back and forth with XSEDE support and some help from Mats to move the process, I have /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch associated with my Stampede account.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1462994206'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-11T19:16:46+00:00">May 11, 2016 07:16 PM UTC</time> by <b>echism</b><a class="anchor" name="1462994206">&nbsp;</a></div><pre>Hey Bo,

Where are we on this?

Thank you</pre></div><div class='update_description'><i onclick="document.location='29566#1462387916'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-04T18:51:56+00:00">May 4, 2016 06:51 PM UTC</time><a class="anchor" name="1462387916">&nbsp;</a></div><pre>Brian,

No problem. I understand. We&#39;ve been through this issue with the XSEDE folks before. Eventually, it&#39;d be nice to find a long-term solution under which they would allow external support staff to assist their users.

Bo,

I&#39;ve added CMS to GLIDEIN_Supported_VOs list for the Ligo_US_Stampede_gt5 entry. I&#39;ve also  added GLIDEIN_CMSSite = T3_US_OSG as requested. Please let us know if you begin to see your $HOME directory fill up with something.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1462378361'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-04T16:12:41+00:00">May 4, 2016 04:12 PM UTC</time><a class="anchor" name="1462378361">&nbsp;</a></div><pre>I&#39;ve filed a ticket with XSEDE. Let&#39;s see what they say.

Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1462378089'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-04T16:08:09+00:00">May 4, 2016 04:08 PM UTC</time> by <b>dirk.hufnagel@....</b><a class="anchor" name="1462378089">&nbsp;</a></div><pre>I see Japanese and Italian certs in that list though, maybe we simply
ask to add the CERN based template ?</pre></div><div class='update_description'><i onclick="document.location='29566#1462377729'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-04T16:02:09+00:00">May 4, 2016 04:02 PM UTC</time> by <b>dirk.hufnagel@....</b><a class="anchor" name="1462377729">&nbsp;</a></div><pre>Given that both ATLAS and CMS are recommending to their users to get
CERN certs (not US based ones), this seems a bit problematic...</pre></div><div class='update_description'><i onclick="document.location='29566#1462377461'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-04T15:57:41+00:00">May 4, 2016 03:57 PM UTC</time><a class="anchor" name="1462377461">&nbsp;</a></div><pre>Here&#39;s the full error&#58;

Attempting to add invalid DN. Please make sure your DN confirms to the following subjects&#58;
/DC=org/DC=cilogon/C=US/*
/C=DE/O=GridGermany/*
/O=dutchgrid/*
/C=UK/O=eScience/*
/DC=gov/DC=nersc/*
/C=US/O=SDSC/*
/C=JP/O=KEK/OU=CRC/*
/C=it/O=INFN/*
/C=IT/O=INFN/*
/DC=com/DC=DigiCert-Grid/*
/DC=com/DC=DigiCertGrid/*
/C=US/O=DigiCert Grid/*
/C=US/O=National Center for Supercomputing Applications/OU=Services/*
/DC=es/DC=irisgrid/*
/C=US/O=Pittsburgh Supercomputing Center/OU=PSC Hosts CA/*
/DC=org/DC=incommon/*
If this problem persists, please contact the XSEDE Helpdesk.

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1462377286'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-04T15:54:46+00:00">May 4, 2016 03:54 PM UTC</time><a class="anchor" name="1462377286">&nbsp;</a></div><pre>For posterity, Farrukh has reported the DN as  /DC=ch/DC=cern/OU=computers/CN=cmspilot04/vocms080.cern.ch Now we&#39;re onto a bigger issue. It looks like XSEDE doesn&#39;t accept CERN DNs....

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1462376213'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-04T15:36:53+00:00">May 4, 2016 03:36 PM UTC</time><a class="anchor" name="1462376213">&nbsp;</a></div><pre>I haven&#39;t but can add it. Farrukh, do you know what DN I should add?

thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1462375861'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-04T15:31:01+00:00">May 4, 2016 03:31 PM UTC</time><a class="anchor" name="1462375861">&nbsp;</a></div><pre>Bo,

Did you already associated the pilot DN of the CMS ITB frotned to your xsede account?

by /DC=com/DC=DigiCert-Grid/O=Open Science Grid/OU=People/CN=Edgar Mauricio Fajardo Hernandez 2020</pre></div><div class='update_description'><i onclick="document.location='29566#1462373750'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-04T14:55:50+00:00">May 4, 2016 02:55 PM UTC</time><a class="anchor" name="1462373750">&nbsp;</a></div><pre>Hi Marty,

No, I don&#39;t think that&#39;s allowed under the TACC AUP.

Since LIGO has exhausted their allocation (they&#39;ve been hand-submitting glideins), let&#39;s focus on CMS instead.  Can you work things out with Bo directly?

Brian

by /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=bbockelm/CN=659869/CN=Brian Paul Bockelman</pre></div><div class='update_description'><i onclick="document.location='29566#1462217756'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-05-02T19:35:56+00:00">May 2, 2016 07:35 PM UTC</time> by <b>echism</b><a class="anchor" name="1462217756">&nbsp;</a></div><pre>Brian,

Is this something you can/will do?

Thank you</pre></div><div class='update_description'><i onclick="document.location='29566#1461865580'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-28T17:46:20+00:00">Apr 28, 2016 05:46 PM UTC</time><a class="anchor" name="1461865580">&nbsp;</a></div><pre>Brian,

Can you add my public key [1] to your authorized users list at Stampede? I&#39;d like to get in and debug the LIGO issue before we setup an entry for CMS.

Marty Kandes
UCSD Glidein Factory Operations

[1]

ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC30PSex/68yXdjWVk67V2l/nhwUDKsEanasIIuWjoT/6z7dn12g+WQdeOA64ayIFNF8CKjzs1g5yTYsauY63lXDqVckPo+VysnnhoVlrXCEYJHEV4Rde2E6u9Af11n5xRC46J4onkpQvZaeZm+2aFgatYPUnCptBpBBlHOTEtHwv1U6IovF7PwYFuaoKzN5ZTSvZcLErlruulfCf0C+32Mn5J9ws+tnNUvnWkeqUX5R+/TCDTLY2vjHfwmchIzpHc5KnCzsIyDthrWvN9XXmIbwjYwIqRe59ej8kqlPukChCLvIkUCV0lMgbxlWvB8xJM1aGa5X1LHCPkkTq6hOWIn mkandes@....l

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1461863199'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-28T17:06:39+00:00">Apr 28, 2016 05:06 PM UTC</time><a class="anchor" name="1461863199">&nbsp;</a></div><pre>Hi Bo,

We ran into an issue with LIGO sending some output to their /home directory and filling it up their allocation, which led to glideins being held. Let us finish making the correct tweaks for them and we can talk about adding CMS. Note, however, right now I think we&#39;ll probably have to setup separate entries for CMS and LIGO. If I remember correctly, each allocation at TACC has a specific /scratch and /work directory that is tied to a project id. Anyhow, get back to you as soon as possible.

Marty Kandes
UCSD Glidein Factory Operations

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Marty Kandes 3049</pre></div><div class='update_description'><i onclick="document.location='29566#1461771691'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-27T15:41:31+00:00">Apr 27, 2016 03:41 PM UTC</time><a class="anchor" name="1461771691">&nbsp;</a></div><pre>Apologies for Copy Paste s/SDSC Comet/TACC Stampede

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><div class='update_description'><i onclick="document.location='29566#1461771571'; reset_anchor();" class="pull-right icon icon-share"></i><div class="header"><time datetime="2016-04-27T15:39:31+00:00">Apr 27, 2016 03:39 PM UTC</time> by <b>OSG-GOC</b><a class="anchor" name="1461771571">&nbsp;</a></div><pre>Factory Ops,

We would like to use the SDSC Comet entry that exists in the ITB factory (<a href='http&#58;//glidein-itb.grid.iu.edu/factory/monitor/factoryEntryStatusNow.html?entry=Ligo_US_Stampede_gt5' target='_blank' rel='nofollow'>http&#58;//glidein-itb.grid.iu.edu/factory/monitor/factoryEntryStatusNow.html?entry=Ligo_US_Stampede_gt5</a>) for testing with a CMS allocation for Stampede. To do this we would need GLIDEIN_CMSSite changed to T3_US_OSG and to add CMS as a supported VO.

Thanks,
Bo

by /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Bodhitha Jayatilaka 2312</pre></div><legend>Similar Recent Tickets <small>modified within the last 30 days</small></legend><div id="similar_tickets"><p class="muted">No similar tickets found.</p></div>
</div>
<script type="text/javascript">
function reset_anchor() {
    $("#updates .selected").removeClass("selected");
    var urls = document.location.toString().split('#'); 
    var anchor = urls[1];
    if(anchor) {
        $("a[name='"+anchor+"']").parents(".update_description").addClass("selected");
    }
}
function submitspam(ticket_id) {
    myret = confirm("Would you like to close this ticket as a security ticket, and submit the ticket content to akismet?");
    if(myret == true) {
        $.ajax("viewer/processspam?id="+ticket_id).done(function() {
            window.location.reload();
        });
    }
}

$(function() {
    reset_anchor();
    var ADDITIONAL_COOKIE_NAME = 'gocticket';
    var options = { path: '/', expires: 365};

    if(window.opener && window.opener.name == "gocticket_list") {
        v = $.cookie("closewindow");
        if(!v) {
            $("#closewindow").attr("checked", "checked"); //on by default
        } else {
            if(v == "checked") {
                $("#closewindow").attr("checked", "checked");
            }
        }
        $("#closewindow").click(function() {
            $.cookie("closewindow", $(this).attr('checked'), options);
        });
    } else {
        $("#closewindow_area").hide();
    }
    function updateTimeago() {
        $("time").timeago();
        setTimeout(updateTimeago, 30*1000);
    }
    updateTimeago();
    $(".description").focus(expand_description);
});
</script>
<hr/>
<footer>
<p>GOC Ticket Version 2.2 | <a href="https://ticket.opensciencegrid.org/goc/submit?app_issue_check=on&amp;app_issue_type=goc&amp;app_goc_url=https%3A%2F%2Fticket.opensciencegrid.org%3A443%2F29566">Report Bugs</a>
 | <a href="https://github.com/opensciencegrid/operations/blob/master/docs/privacy.md">Privacy Policy</a>
</p>

<p> <img align="top" src="images/tag_orange.png"/> Copyright 2018 The Trustees of Indiana University - Developed for Open Science Grid</p>
</footer>


</div><!--container-fluid-->
<script src="https://ticket1.grid.iu.edu:8443/socket.io/socket.io.js"></script>
<script>
var chat = io.connect('https://ticket1.grid.iu.edu:8443');
chat.on('connect', function() {
    chat.emit('authenticate', {nodekey:'', ticketid: 29566});
});
chat.on('peers', function(peers) {
    $("#peers").html("");
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('peer_disconnect', function(pid) {
    $("#peer_"+pid).hide("slow");
});
chat.on('peer_connected', function(peers) {
    //expect only 1 peer connecting, but..
    for(var pid in peers) {
        var peer = peers[pid];
        addPeer(pid, peer);
    }
});
chat.on('submit', function() {
    if(confirm("This ticket was updated. Do you want to refresh?")) {
        history.go(0);
    }
});

function addPeer(pid, peer) {
    var ipinfo = "";
    if(peer.ip != undefined) {
        ipinfo = "<span class=\"ip\">"+peer.ip+"</span>";
    }
    if(chat.io.engine.id == pid) {
        //don't display myself
        return;
    }
    var html = "<li class=\"new\" id=\"peer_"+pid+"\" class=\"peer\">"+peer.name+ipinfo+"</li>";
    $("#peers").prepend(html);
    $("#peers .new").animate({bottom: 0}, 1000, function() {$(this).removeClass("new")});
}

$(function() {
    $("#ticket_form").submit(function() {
        chat.emit('submit');
        return true;
    });
});
</script>
<script>
//used by searchbox
function parseValue(value) {
    var obj = new Object();
    var tokens = value.split("\t");
    obj.str = tokens[0];
    obj.count = tokens[1];
    return obj;
}

$(function() {
    //bootstrap-2.0.4 stuff
    $(".alert-message").alert();
    $(".dropdown-toggle").dropdown();
    $("span[rel='tooltip']").tooltip();
    $("a[rel=popover]").popover();

    //activate menu that user is currently on
    $("#menu_navigator").addClass("active"); 
    $("#submenu_").addClass("active"); 

    //translate zend validation error message to bootstrap
    $(".errors").addClass("alert").addClass("alert-error");

    //enable autocomplete for search box
    $("#search").autocomplete({
        source: function( request, response ) {
            $.ajax({
                url: "search/autocomplete",
                dataType: "text",
                data: {
                    //featureClass: "P",
                    //style: "full",
                    //maxRows: 12,
                    //name_startsWith: request.term
                    q: request.term
                },
                success: function( data ) {
                    response( $.map( data.split("\n"), function( item ) {
                        if(item == "") return null;
                        return {
                            value: item
                        }
                    }));
                }
            });
        },
        select: function(event, ui) {
            document.location = "search?q="+ui.item.value;
        }
    });
    
});
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-69012-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

</body>
